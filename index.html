<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Talent Scout - AI Sourcing Platform</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            /* Shopify Brand Colors */
            --shopify-green: #008060;
            --shopify-green-dark: #004C3F;
            --shopify-green-light: #95BF47;
            --shopify-black: #000000;
            --shopify-white: #FFFFFF;
            
            /* Extended Palette */
            --primary: var(--shopify-green);
            --primary-dark: var(--shopify-green-dark);
            --primary-light: #00A47C;
            --secondary: #5C6AC4;
            --background: #F6F6F7;
            --surface: #FFFFFF;
            --surface-dark: #F1F2F3;
            --text-primary: #202223;
            --text-secondary: #6D7175;
            --border: #E1E3E5;
            --success: #008060;
            --warning: #B98900;
            --error: #D82C0D;
            --diversity: #9C6ADE;
            --info: #0091E2;
            
            /* Platform Colors */
            --linkedin: #0A66C2;
            --github: #24292E;
            --stackoverflow: #F48024;
            --twitter: #000000;
            --meta: #0866FF;
            --scholar: #4285F4;
            --dribbble: #EA4C89;
            --behance: #1769FF;
            --angellist: #000000;
            --kaggle: #20BEFF;
        }

        .dark-mode {
            --background: #0D1117;
            --surface: #161B22;
            --surface-dark: #21262D;
            --text-primary: #F0F6FC;
            --text-secondary: #8B949E;
            --border: #30363D;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            background: var(--background);
            color: var(--text-primary);
            min-height: 100vh;
            transition: background 0.3s ease, color 0.3s ease;
        }

        /* Header */
        .header {
            background: var(--shopify-black);
            color: white;
            padding: 20px 32px;
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .header-content {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .logo-icon {
            width: 65px;
            height: 65px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
        }

        .logo-icon img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        /* Waving animation */
        @keyframes wave {
            0%, 100% { transform: rotate(0deg); }
            10% { transform: rotate(14deg); }
            20% { transform: rotate(-8deg); }
            30% { transform: rotate(14deg); }
            40% { transform: rotate(-4deg); }
            50% { transform: rotate(10deg); }
            60% { transform: rotate(0deg); }
        }

        .logo h1 {
            font-size: 22px;
            font-weight: 700;
        }

        .logo-tagline {
            font-size: 12px;
            opacity: 0.7;
            margin-top: 2px;
        }

        .header-actions {
            display: flex;
            align-items: center;
            gap: 16px;
        }

        .header-stats {
            display: flex;
            gap: 20px;
            padding-right: 20px;
            border-right: 1px solid rgba(255,255,255,0.2);
        }

        .stat-item {
            text-align: center;
        }

        .stat-value {
            font-size: 18px;
            font-weight: 700;
            color: var(--shopify-green-light);
        }

        .stat-label {
            font-size: 11px;
            opacity: 0.7;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .dark-mode-toggle {
            background: rgba(255,255,255,0.1);
            border: none;
            padding: 10px;
            border-radius: 8px;
            cursor: pointer;
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: background 0.2s ease;
        }

        .dark-mode-toggle:hover {
            background: rgba(255,255,255,0.2);
        }

        /* Main Container */
        .main-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 32px;
        }

        /* Quick Templates */
        .templates-section {
            margin-bottom: 24px;
        }

        .templates-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 16px;
        }

        .templates-header h3 {
            font-size: 14px;
            font-weight: 600;
            color: var(--text-secondary);
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .templates-grid {
            display: flex;
            gap: 12px;
            flex-wrap: wrap;
        }

        .template-btn {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 10px 16px;
            background: var(--surface);
            border: 1px solid var(--border);
            border-radius: 8px;
            cursor: pointer;
            font-size: 13px;
            font-weight: 500;
            color: var(--text-primary);
            transition: all 0.2s ease;
        }

        .template-btn:hover {
            border-color: var(--primary);
            background: rgba(0, 128, 96, 0.05);
        }

        .template-btn .emoji {
            font-size: 16px;
        }

        /* Platform Tabs */
        .platform-tabs {
            display: flex;
            gap: 8px;
            margin-bottom: 16px;
            flex-wrap: wrap;
        }

        .platform-tab {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 10px 16px;
            background: var(--surface);
            border: 2px solid var(--border);
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.2s ease;
            font-weight: 500;
            font-size: 13px;
            color: var(--text-primary);
        }

        .platform-tab:hover {
            border-color: var(--primary-light);
            transform: translateY(-1px);
        }

        .platform-tab.active {
            border-color: var(--primary);
            background: rgba(0, 128, 96, 0.08);
        }

        .platform-icon {
            width: 20px;
            height: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
        }


        /* Search Card */
        .search-card {
            background: var(--surface);
            border-radius: 12px;
            padding: 28px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.08);
            border: 1px solid var(--border);
            margin-bottom: 24px;
        }

        .search-card h2 {
            font-size: 18px;
            margin-bottom: 24px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .form-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
        }

        .form-group {
            display: flex;
            flex-direction: column;
            gap: 6px;
        }

        .form-group.full-width {
            grid-column: 1 / -1;
        }

        .form-label {
            font-size: 13px;
            font-weight: 600;
            color: var(--text-secondary);
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .form-label .help-icon {
            cursor: pointer;
            opacity: 0.6;
            transition: opacity 0.2s ease;
        }

        .form-label .help-icon:hover {
            opacity: 1;
        }

        /* Multi-select dropdown */
        select[multiple] {
            min-height: 100px;
        }

        select[multiple] option {
            padding: 8px 12px;
        }

        select[multiple] option:checked {
            background: linear-gradient(0deg, var(--primary) 0%, var(--primary) 100%);
            color: white;
        }

        .form-input, .form-select {
            padding: 12px 14px;
            border: 1px solid var(--border);
            border-radius: 8px;
            font-size: 14px;
            font-family: inherit;
            transition: all 0.2s ease;
            background: var(--surface);
            color: var(--text-primary);
        }

        .form-input:focus, .form-select:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(0, 128, 96, 0.1);
        }

        .form-input::placeholder {
            color: var(--text-secondary);
        }

        /* Company Targeting Section */
        .company-targeting-section {
            background: linear-gradient(135deg, rgba(0, 128, 96, 0.05) 0%, rgba(149, 191, 71, 0.05) 100%);
            border: 1px solid rgba(0, 128, 96, 0.2);
            border-radius: 10px;
            padding: 16px;
            margin-top: 20px;
        }

        .company-targeting-header {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 12px;
            cursor: pointer;
        }

        .company-targeting-header h4 {
            font-size: 14px;
            font-weight: 600;
            color: var(--primary);
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .company-list-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
            gap: 12px;
            margin-bottom: 12px;
        }

        .company-list-card {
            background: var(--surface);
            border: 1px solid var(--border);
            border-radius: 8px;
            padding: 12px;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .company-list-card:hover {
            border-color: var(--primary);
        }

        .company-list-card.selected {
            border-color: var(--primary);
            background: rgba(0, 128, 96, 0.08);
        }

        .company-list-card h5 {
            font-size: 13px;
            font-weight: 600;
            margin-bottom: 4px;
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .company-list-card p {
            font-size: 11px;
            color: var(--text-secondary);
            line-height: 1.4;
        }

        .selected-companies {
            display: flex;
            flex-wrap: wrap;
            gap: 6px;
            margin-top: 12px;
            padding-top: 12px;
            border-top: 1px solid var(--border);
        }

        .company-chip {
            display: inline-flex;
            align-items: center;
            gap: 4px;
            padding: 4px 10px;
            background: var(--primary);
            color: white;
            border-radius: 12px;
            font-size: 11px;
            font-weight: 500;
        }

        .company-chip .remove {
            cursor: pointer;
            opacity: 0.8;
        }

        .company-chip .remove:hover {
            opacity: 1;
        }

        /* Search Quality Tips */
        .search-tips {
            background: linear-gradient(135deg, rgba(185, 137, 0, 0.08) 0%, rgba(255, 183, 0, 0.08) 100%);
            border: 1px solid rgba(185, 137, 0, 0.3);
            border-radius: 10px;
            padding: 14px 16px;
            margin-top: 20px;
            display: none;
        }

        .search-tips.visible {
            display: block;
        }

        .search-tips h4 {
            font-size: 13px;
            font-weight: 600;
            color: var(--warning);
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .tip-item {
            display: flex;
            align-items: flex-start;
            gap: 8px;
            padding: 8px 0;
            border-bottom: 1px solid rgba(185, 137, 0, 0.15);
            font-size: 13px;
        }

        .tip-item:last-child {
            border-bottom: none;
            padding-bottom: 0;
        }

        .tip-icon {
            flex-shrink: 0;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
        }

        .tip-icon.warning {
            background: rgba(185, 137, 0, 0.2);
            color: var(--warning);
        }

        .tip-icon.success {
            background: rgba(0, 128, 96, 0.2);
            color: var(--success);
        }

        .tip-icon.info {
            background: rgba(0, 145, 226, 0.2);
            color: var(--info);
        }

        .tip-text {
            flex: 1;
        }

        .tip-action {
            color: var(--primary);
            cursor: pointer;
            font-weight: 500;
            text-decoration: underline;
            margin-left: 4px;
        }

        /* GitHub Filters */
        .github-filters {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .github-filter-option {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 10px 14px;
            background: var(--surface);
            border: 1px solid var(--border);
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s ease;
            font-size: 13px;
        }

        .github-filter-option:hover {
            border-color: var(--github);
        }

        .github-filter-option input[type="checkbox"] {
            accent-color: var(--github);
            width: 16px;
            height: 16px;
        }

        .github-filter-option input[type="checkbox"]:checked + span {
            color: var(--text-primary);
            font-weight: 500;
        }

        /* Seniority Chips */
        .seniority-chips {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
        }

        .seniority-chip {
            padding: 8px 14px;
            border: 1px solid var(--border);
            border-radius: 20px;
            background: var(--surface);
            color: var(--text-secondary);
            font-size: 13px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .seniority-chip:hover {
            border-color: var(--primary);
            color: var(--primary);
        }

        .seniority-chip.selected {
            background: var(--primary);
            border-color: var(--primary);
            color: white;
        }

        /* Candidate Signals Section */
        .signals-section {
            background: linear-gradient(135deg, rgba(0, 145, 226, 0.08) 0%, rgba(0, 128, 96, 0.08) 100%);
            border: 1px solid rgba(0, 145, 226, 0.3);
            border-radius: 10px;
            padding: 20px;
            margin-top: 20px;
        }

        .signals-header {
            display: flex;
            align-items: center;
            gap: 10px;
            cursor: pointer;
        }

        .signals-header h4 {
            font-size: 14px;
            font-weight: 600;
            color: var(--info);
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .signals-badge {
            background: var(--info);
            color: white;
            font-size: 10px;
            padding: 3px 8px;
            border-radius: 10px;
            font-weight: 600;
        }

        .signals-description {
            font-size: 13px;
            color: var(--text-secondary);
            margin-bottom: 16px;
            margin-top: 12px;
        }

        .signals-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 12px;
        }

        .signal-option {
            display: flex;
            align-items: flex-start;
            gap: 12px;
            padding: 14px;
            background: var(--surface);
            border: 1px solid var(--border);
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .signal-option:hover {
            border-color: var(--info);
        }

        .signal-option.selected {
            border-color: var(--info);
            background: rgba(0, 145, 226, 0.1);
        }

        .signal-checkbox {
            margin-top: 2px;
            accent-color: var(--info);
        }

        .signal-option-content h5 {
            font-size: 13px;
            font-weight: 600;
            margin-bottom: 4px;
            color: var(--text-primary);
        }

        .signal-option-content p {
            font-size: 11px;
            color: var(--text-secondary);
            line-height: 1.4;
        }

        /* Diversity Section */
        .diversity-section {
            background: linear-gradient(135deg, rgba(156, 106, 222, 0.08) 0%, rgba(92, 106, 196, 0.08) 100%);
            border: 1px solid rgba(156, 106, 222, 0.3);
            border-radius: 10px;
            padding: 20px;
            margin-top: 20px;
        }

        .diversity-header {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 16px;
            cursor: pointer;
        }

        .diversity-header h4 {
            font-size: 14px;
            font-weight: 600;
            color: var(--diversity);
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .diversity-badge {
            background: var(--diversity);
            color: white;
            font-size: 10px;
            padding: 3px 8px;
            border-radius: 10px;
            font-weight: 600;
        }

        .diversity-description {
            font-size: 12px;
            color: var(--text-secondary);
            margin-bottom: 16px;
            line-height: 1.5;
        }

        .diversity-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 12px;
        }

        .diversity-option {
            display: flex;
            align-items: flex-start;
            gap: 10px;
            padding: 12px;
            background: var(--surface);
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s ease;
            border: 1px solid transparent;
        }

        .diversity-option:hover {
            border-color: var(--diversity);
        }

        .diversity-option.selected {
            border-color: var(--diversity);
            background: rgba(156, 106, 222, 0.1);
        }

        .diversity-option input {
            margin-top: 2px;
            accent-color: var(--diversity);
        }

        .diversity-option-content h5 {
            font-size: 13px;
            font-weight: 600;
            margin-bottom: 2px;
        }

        .diversity-option-content p {
            font-size: 11px;
            color: var(--text-secondary);
        }

        /* Toggle Switch */
        .toggle-group {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px 0;
        }

        .toggle {
            position: relative;
            width: 44px;
            height: 24px;
        }

        .toggle input {
            opacity: 0;
            width: 0;
            height: 0;
        }

        .toggle-slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: var(--border);
            transition: 0.3s;
            border-radius: 24px;
        }

        .toggle-slider:before {
            position: absolute;
            content: "";
            height: 18px;
            width: 18px;
            left: 3px;
            bottom: 3px;
            background-color: white;
            transition: 0.3s;
            border-radius: 50%;
            box-shadow: 0 1px 3px rgba(0,0,0,0.2);
        }

        .toggle input:checked + .toggle-slider {
            background-color: var(--primary);
        }

        .toggle input:checked + .toggle-slider:before {
            transform: translateX(20px);
        }

        /* Chips/Tags */
        .chips-container {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-top: 8px;
        }

        .chip {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            padding: 6px 12px;
            background: rgba(0, 128, 96, 0.1);
            border-radius: 16px;
            font-size: 13px;
            font-weight: 500;
            color: var(--primary-dark);
            cursor: pointer;
            transition: all 0.2s ease;
            border: 1px solid transparent;
        }

        .chip:hover {
            background: rgba(0, 128, 96, 0.2);
        }

        .chip.selected {
            background: var(--primary);
            color: white;
        }

        .chip .remove {
            width: 16px;
            height: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            background: rgba(0,0,0,0.1);
            font-size: 12px;
        }

        /* Action Buttons */
        .action-buttons {
            display: flex;
            gap: 12px;
            margin-top: 24px;
            flex-wrap: wrap;
        }

        .btn {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 12px 24px;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
            border: none;
            font-family: inherit;
        }

        .btn-primary {
            background: var(--primary);
            color: white;
        }

        .btn-primary:hover {
            background: var(--primary-dark);
            transform: translateY(-1px);
        }

        .btn-secondary {
            background: var(--surface);
            color: var(--text-primary);
            border: 1px solid var(--border);
        }

        .btn-secondary:hover {
            border-color: var(--primary);
            background: rgba(0, 128, 96, 0.05);
        }

        .btn-ai {
            background: linear-gradient(135deg, #5C6AC4 0%, #8B5CF6 100%);
            color: white;
        }

        .btn-ai:hover {
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(92, 106, 196, 0.4);
        }

        .btn-small {
            padding: 8px 14px;
            font-size: 12px;
        }

        /* Results Section */
        .results-section {
            background: var(--surface);
            border-radius: 12px;
            padding: 24px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.08);
            border: 1px solid var(--border);
            margin-bottom: 24px;
        }

        .results-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 16px;
            padding-bottom: 16px;
            border-bottom: 1px solid var(--border);
            flex-wrap: wrap;
            gap: 12px;
        }

        .results-header h3 {
            font-size: 16px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .results-actions {
            display: flex;
            gap: 8px;
        }

        .query-display {
            background: var(--surface-dark);
            border: 1px solid var(--border);
            border-radius: 8px;
            padding: 16px;
            font-family: 'Monaco', 'Menlo', monospace;
            font-size: 13px;
            line-height: 1.6;
            color: var(--text-primary);
            word-break: break-all;
            position: relative;
        }

        .query-display .copy-btn {
            position: absolute;
            top: 8px;
            right: 8px;
            padding: 6px 10px;
            background: var(--surface);
            border: 1px solid var(--border);
            border-radius: 6px;
            cursor: pointer;
            font-size: 12px;
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: 4px;
            transition: all 0.2s ease;
            color: var(--text-primary);
        }

        .query-display .copy-btn:hover {
            background: var(--primary);
            color: white;
            border-color: var(--primary);
        }

        .query-display .copy-btn.copied {
            background: var(--success);
            color: white;
            border-color: var(--success);
        }

        .query-textarea {
            width: 100%;
            min-height: 80px;
            padding: 12px;
            padding-right: 80px;
            margin-top: 8px;
            font-family: 'Monaco', 'Menlo', 'Courier New', monospace;
            font-size: 13px;
            line-height: 1.6;
            color: var(--text-primary);
            background: var(--surface);
            border: 1px solid var(--border);
            border-radius: 8px;
            resize: vertical;
            transition: border-color 0.2s ease, box-shadow 0.2s ease;
        }

        .query-textarea:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(0, 128, 96, 0.1);
        }

        .query-textarea:hover {
            border-color: var(--primary-light);
        }

        .query-edit-hint {
            display: flex;
            align-items: center;
            gap: 6px;
            margin-top: 8px;
            font-size: 12px;
            color: var(--text-secondary);
        }

        .query-edit-hint svg {
            opacity: 0.7;
        }

        /* AI Optimize Section */
        .ai-optimize-section {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-top: 16px;
            padding-top: 16px;
            border-top: 1px solid var(--border);
        }

        .ai-optimize-hint {
            font-size: 12px;
            color: var(--text-secondary);
        }

        .ai-optimized-result {
            margin-top: 16px;
            padding: 16px;
            background: linear-gradient(135deg, rgba(92, 106, 196, 0.08) 0%, rgba(139, 92, 246, 0.08) 100%);
            border: 1px solid rgba(92, 106, 196, 0.2);
            border-radius: 10px;
        }

        .ai-result-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 12px;
        }

        .ai-result-header h4 {
            font-size: 14px;
            font-weight: 600;
            color: #5C6AC4;
            display: flex;
            align-items: center;
            gap: 8px;
            margin: 0;
        }

        .ai-optimized-query {
            background: var(--surface);
            border: 1px solid var(--border);
            border-radius: 8px;
            padding: 12px;
            font-family: 'SF Mono', Monaco, monospace;
            font-size: 12px;
            line-height: 1.5;
            word-break: break-word;
            margin-bottom: 12px;
        }

        .ai-explanation {
            font-size: 13px;
            color: var(--text-secondary);
            line-height: 1.6;
        }

        .ai-explanation strong {
            color: var(--text-primary);
        }

        .btn-ai.loading {
            opacity: 0.7;
            pointer-events: none;
        }

        .btn-ai.loading svg {
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        /* Suggestions Panel */
        .suggestions-panel {
            background: linear-gradient(135deg, rgba(92, 106, 196, 0.08) 0%, rgba(139, 92, 246, 0.08) 100%);
            border: 1px solid rgba(92, 106, 196, 0.2);
            border-radius: 10px;
            padding: 16px;
            margin-bottom: 24px;
        }

        .suggestions-panel h4 {
            font-size: 13px;
            color: #5C6AC4;
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .suggestion-chips {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
        }

        .suggestion-chip {
            padding: 6px 12px;
            background: var(--surface);
            border: 1px solid rgba(92, 106, 196, 0.3);
            border-radius: 16px;
            font-size: 13px;
            cursor: pointer;
            transition: all 0.2s ease;
            color: #5C6AC4;
        }

        .suggestion-chip:hover {
            background: #5C6AC4;
            color: white;
            border-color: #5C6AC4;
        }

        /* Email Generator */
        .email-section {
            background: var(--surface);
            border-radius: 12px;
            padding: 24px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.08);
            border: 1px solid var(--border);
            margin-bottom: 24px;
        }

        .email-section h3 {
            font-size: 16px;
            margin-bottom: 16px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .email-controls {
            display: flex;
            gap: 8px;
            margin-bottom: 16px;
            flex-wrap: wrap;
        }

        .tone-btn {
            padding: 8px 16px;
            background: var(--surface-dark);
            border: 1px solid var(--border);
            border-radius: 20px;
            cursor: pointer;
            font-size: 13px;
            font-weight: 500;
            transition: all 0.2s ease;
            color: var(--text-primary);
        }

        .tone-btn:hover {
            border-color: var(--primary);
        }

        .tone-btn.active {
            background: var(--primary);
            color: white;
            border-color: var(--primary);
        }

        .tone-btn.ai-tone {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-color: #667eea;
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .tone-btn.ai-tone:hover {
            background: linear-gradient(135deg, #5a6fd6 0%, #6a4190 100%);
            transform: translateY(-1px);
        }

        .ai-email-options {
            background: linear-gradient(135deg, rgba(102, 126, 234, 0.08) 0%, rgba(118, 75, 162, 0.08) 100%);
            border: 1px solid rgba(102, 126, 234, 0.3);
            border-radius: 10px;
            padding: 16px;
            margin-bottom: 16px;
        }

        .ai-email-options.hidden {
            display: none;
        }

        .ai-email-options .form-label {
            color: #667eea;
            font-weight: 600;
            margin-bottom: 12px;
            display: block;
        }

        .ai-email-inputs {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 12px;
            margin-bottom: 12px;
        }

        @media (max-width: 768px) {
            .ai-email-inputs {
                grid-template-columns: 1fr;
            }
        }

        .ai-email-options .btn-ai {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
        }

        .ai-email-options .btn-ai:hover {
            background: linear-gradient(135deg, #5a6fd6 0%, #6a4190 100%);
        }

        .ai-email-options .btn-ai.loading {
            opacity: 0.7;
            pointer-events: none;
        }

        .email-template {
            background: var(--surface-dark);
            border: 1px solid var(--border);
            border-radius: 8px;
            padding: 16px;
            font-size: 14px;
            line-height: 1.8;
            white-space: pre-wrap;
            position: relative;
        }

        .email-actions {
            display: flex;
            gap: 8px;
            margin-top: 12px;
        }

        /* Boolean Cheat Sheet */
        .cheatsheet-section {
            background: var(--surface);
            border-radius: 12px;
            padding: 24px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.08);
            border: 1px solid var(--border);
            margin-bottom: 24px;
        }

        .cheatsheet-section h3 {
            font-size: 16px;
            margin-bottom: 16px;
            display: flex;
            align-items: center;
            gap: 10px;
            cursor: pointer;
        }

        .cheatsheet-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 16px;
        }

        .cheatsheet-item {
            background: var(--surface-dark);
            border-radius: 8px;
            padding: 14px;
        }

        .cheatsheet-item code {
            display: block;
            font-family: 'Monaco', 'Menlo', monospace;
            font-size: 13px;
            color: var(--primary);
            margin-bottom: 6px;
        }

        .cheatsheet-item p {
            font-size: 12px;
            color: var(--text-secondary);
        }

        /* Saved Searches */
        .saved-searches {
            background: var(--surface);
            border-radius: 12px;
            padding: 24px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.08);
            border: 1px solid var(--border);
            margin-bottom: 24px;
        }

        .saved-searches h3 {
            font-size: 16px;
            margin-bottom: 16px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .saved-search-item {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 12px 14px;
            background: var(--surface-dark);
            border-radius: 8px;
            margin-bottom: 8px;
            cursor: pointer;
            transition: all 0.2s ease;
            border: 1px solid transparent;
        }

        .saved-search-item:hover {
            border-color: var(--primary);
            background: rgba(0, 128, 96, 0.05);
        }

        .saved-search-info {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .saved-search-platform {
            width: 28px;
            height: 28px;
            border-radius: 6px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 14px;
            background: var(--surface);
        }

        .saved-search-text {
            font-size: 14px;
            font-weight: 500;
        }

        .saved-search-delete {
            padding: 6px 8px;
            background: none;
            border: none;
            color: var(--text-secondary);
            cursor: pointer;
            border-radius: 4px;
            transition: all 0.2s ease;
        }

        .saved-search-delete:hover {
            background: rgba(216, 44, 13, 0.1);
            color: var(--error);
        }

        /* Modal */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.6);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
            padding: 20px;
        }

        .modal-overlay.visible {
            opacity: 1;
            visibility: visible;
        }

        .modal {
            background: var(--surface);
            border-radius: 16px;
            max-width: 700px;
            width: 100%;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            transform: scale(0.9);
            transition: transform 0.3s ease;
        }

        .modal-overlay.visible .modal {
            transform: scale(1);
        }

        .modal-header {
            background: linear-gradient(135deg, var(--shopify-green) 0%, var(--shopify-green-dark) 100%);
            color: white;
            padding: 24px 28px;
            border-radius: 16px 16px 0 0;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .modal-header-content {
            display: flex;
            align-items: center;
            gap: 16px;
        }

        .modal-header img {
            width: 80px;
            height: 80px;
            border-radius: 14px;
        }

        .modal-overlay.visible .modal-header img {
            animation: wave 1.5s ease-in-out;
            transform-origin: 70% 70%;
        }

        .modal-header h2 {
            font-size: 22px;
            font-weight: 700;
        }

        .modal-header p {
            font-size: 14px;
            opacity: 0.9;
            margin-top: 4px;
        }

        .modal-close {
            background: rgba(255, 255, 255, 0.2);
            border: none;
            width: 36px;
            height: 36px;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 20px;
            transition: background 0.2s ease;
        }

        .modal-close:hover {
            background: rgba(255, 255, 255, 0.3);
        }

        .modal-body {
            padding: 28px;
        }

        .guide-divider {
            display: flex;
            align-items: center;
            text-align: center;
            margin: 20px 0;
            color: var(--text-secondary);
            font-size: 12px;
        }

        .guide-divider::before,
        .guide-divider::after {
            content: '';
            flex: 1;
            border-bottom: 1px solid var(--border);
        }

        .guide-divider span {
            padding: 0 12px;
        }

        /* Boolean Section in Guide */
        .guide-boolean-section {
            background: linear-gradient(135deg, rgba(216, 44, 13, 0.05) 0%, rgba(255, 184, 0, 0.05) 100%);
            border: 1px solid rgba(216, 44, 13, 0.2);
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 8px;
        }

        .guide-boolean-header {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 12px;
        }

        .guide-boolean-header h4 {
            font-size: 16px;
            font-weight: 700;
            color: #D82C0D;
            margin: 0;
        }

        .guide-boolean-intro {
            font-size: 13px;
            color: var(--text-secondary);
            margin-bottom: 16px;
            line-height: 1.5;
        }

        .guide-boolean-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
            margin-bottom: 16px;
        }

        .guide-boolean-item {
            background: var(--surface);
            border-radius: 8px;
            padding: 10px 12px;
            display: flex;
            flex-direction: column;
            gap: 4px;
        }

        .guide-boolean-item code {
            font-family: 'SF Mono', Monaco, monospace;
            font-size: 13px;
            font-weight: 600;
            color: var(--primary);
        }

        .guide-boolean-item span {
            font-size: 11px;
            color: var(--text-secondary);
        }

        .guide-boolean-example {
            background: var(--surface);
            border-radius: 8px;
            padding: 12px;
            font-size: 12px;
        }

        .guide-boolean-example strong {
            color: var(--text-primary);
        }

        .guide-boolean-example code {
            display: block;
            margin-top: 6px;
            font-family: 'SF Mono', Monaco, monospace;
            font-size: 11px;
            color: var(--text-secondary);
            word-break: break-all;
        }

        @media (max-width: 500px) {
            .guide-boolean-grid {
                grid-template-columns: 1fr;
            }
        }

        .guide-step {
            display: flex;
            gap: 16px;
            margin-bottom: 24px;
            padding-bottom: 24px;
            border-bottom: 1px solid var(--border);
        }

        .guide-step:last-child {
            margin-bottom: 0;
            padding-bottom: 0;
            border-bottom: none;
        }

        .step-number {
            width: 36px;
            height: 36px;
            background: var(--shopify-green);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 16px;
            flex-shrink: 0;
        }

        .step-content h4 {
            font-size: 16px;
            font-weight: 600;
            margin-bottom: 6px;
            color: var(--text-primary);
        }

        .step-content p {
            font-size: 14px;
            color: var(--text-secondary);
            line-height: 1.6;
        }

        .step-content .tip {
            background: rgba(0, 128, 96, 0.08);
            border-left: 3px solid var(--shopify-green);
            padding: 10px 14px;
            margin-top: 10px;
            border-radius: 0 8px 8px 0;
            font-size: 13px;
            color: var(--primary-dark);
        }

        .guide-features {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 12px;
            margin-top: 20px;
            padding-top: 20px;
            border-top: 1px solid var(--border);
        }

        .guide-feature {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 12px;
            background: var(--surface-dark);
            border-radius: 10px;
        }

        .guide-feature-icon {
            font-size: 20px;
        }

        .guide-feature-text {
            font-size: 13px;
            font-weight: 500;
        }

        .modal-footer {
            padding: 20px 28px;
            background: var(--surface-dark);
            border-radius: 0 0 16px 16px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 12px;
        }

        .modal-footer-text {
            font-size: 13px;
            color: var(--text-secondary);
        }

        .modal-footer .btn {
            min-width: 140px;
            justify-content: center;
        }

        .dont-show-again {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 13px;
            color: var(--text-secondary);
            cursor: pointer;
        }

        .dont-show-again input {
            accent-color: var(--shopify-green);
        }

        .logo-icon {
            cursor: pointer;
            transition: transform 0.2s ease;
        }

        .logo-icon:hover {
            transform: scale(1.05);
        }

        /* Footer */
        .footer {
            text-align: center;
            padding: 32px;
            color: var(--text-secondary);
            font-size: 13px;
        }

        .footer a {
            color: var(--primary);
            text-decoration: none;
        }

        .footer a:hover {
            text-decoration: underline;
        }

        /* Hidden */
        .hidden {
            display: none !important;
        }

        /* Collapsible */
        .collapsible-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease;
        }

        .collapsible-content.open {
            max-height: 2000px;
        }

        .collapse-icon {
            transition: transform 0.3s ease;
        }

        .collapse-icon.open {
            transform: rotate(180deg);
        }

        /* Responsive */
        @media (max-width: 768px) {
            .header-content {
                flex-direction: column;
                gap: 16px;
            }

            .header-stats {
                border-right: none;
                padding-right: 0;
                border-bottom: 1px solid rgba(255,255,255,0.2);
                padding-bottom: 16px;
            }

            .main-container {
                padding: 20px;
            }

            .search-card {
                padding: 20px;
            }

            .action-buttons {
                flex-direction: column;
            }

            .btn {
                justify-content: center;
            }

            .results-header {
                flex-direction: column;
                align-items: flex-start;
            }

            .results-actions {
                width: 100%;
            }

            .results-actions .btn {
                flex: 1;
            }

            .platform-tabs {
                gap: 6px;
            }

            .platform-tab {
                padding: 8px 12px;
                font-size: 12px;
            }
        }
    </style>
    <!-- Quick Client for Database -->
    <script src="/client/quick.js"></script>
</head>
<body>
    <header class="header">
        <div class="header-content">
            <div class="logo">
                <div class="logo-icon" onclick="showGuide()" title="Click for How to Use Guide">
                    <img src="logo.png" alt="Talent Scout Logo">
                </div>
                <div>
                    <h1>Talent Scout</h1>
                    <div class="logo-tagline">AI-Powered Candidate Sourcing</div>
                </div>
            </div>
            <div class="header-actions">
                <div class="header-stats">
                    <div class="stat-item">
                        <div class="stat-value" id="searchCount">0</div>
                        <div class="stat-label">Searches</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="savedCount">0</div>
                        <div class="stat-label">Saved</div>
                    </div>
                </div>
                <button class="dark-mode-toggle" onclick="toggleDarkMode()" title="Toggle dark mode">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" id="darkModeIcon">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/>
                    </svg>
                </button>
            </div>
        </div>
    </header>

    <main class="main-container">
        <!-- Quick Templates -->
        <div class="templates-section">
            <div class="templates-header">
                <h3>Quick Templates</h3>
            </div>
            <div class="templates-grid">
                <button class="template-btn" onclick="loadTemplate('software-engineer')">
                    <span class="emoji">üë©‚Äçüíª</span> Software Engineer
                </button>
                <button class="template-btn" onclick="loadTemplate('product-manager')">
                    <span class="emoji">üìä</span> Product Manager
                </button>
                <button class="template-btn" onclick="loadTemplate('designer')">
                    <span class="emoji">üé®</span> Designer
                </button>
                <button class="template-btn" onclick="loadTemplate('data-scientist')">
                    <span class="emoji">üî¨</span> Data Scientist
                </button>
                <button class="template-btn" onclick="loadTemplate('engineering-manager')">
                    <span class="emoji">üëî</span> Eng Manager
                </button>
                <button class="template-btn" onclick="loadTemplate('devops')">
                    <span class="emoji">‚òÅÔ∏è</span> DevOps / SRE
                </button>
                <button class="template-btn" onclick="loadTemplate('data-engineer')">
                    <span class="emoji">üîß</span> Data Engineer
                </button>
            </div>
        </div>

        <!-- Platform Selection -->
        <div class="platform-tabs">
            <button class="platform-tab linkedin active" data-platform="linkedin">
                <div class="platform-icon">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="#0A66C2">
                        <path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/>
                    </svg>
                </div>
                LinkedIn
            </button>
            <button class="platform-tab github" data-platform="github">
                <div class="platform-icon">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="#24292E">
                        <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/>
                    </svg>
                </div>
                GitHub
            </button>
            <button class="platform-tab stackoverflow" data-platform="stackoverflow">
                <div class="platform-icon">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="#F48024">
                        <path d="M15.725 0l-1.72 1.277 6.39 8.588 1.72-1.277L15.725 0zm-1.024 10.09l1.9 1.02 4.18-7.79-1.9-1.02-4.18 7.79zm-5.09 4.02l8.18 1.71.36-1.73-8.18-1.71-.36 1.73zm.45-2.22l7.89 3.31.66-1.58-7.89-3.31-.66 1.58zm1.29-2.37l6.96 5.26 1.08-1.43-6.96-5.26-1.08 1.43zM19 18H5v2h14v-2zm1-8v12H4V10H2v14h20V10h-2z"/>
                    </svg>
                </div>
                Stack Overflow
            </button>
            <button class="platform-tab twitter" data-platform="twitter">
                <div class="platform-icon">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="#000000">
                        <path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/>
                    </svg>
                </div>
                X
            </button>
            <button class="platform-tab scholar" data-platform="scholar">
                <div class="platform-icon">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="#4285F4">
                        <path d="M12 24a7 7 0 1 1 0-14 7 7 0 0 1 0 14zm0-24L0 9.5l4.838 3.94A8 8 0 0 1 12 9a8 8 0 0 1 7.162 4.44L24 9.5z"/>
                    </svg>
                </div>
                Scholar
            </button>
            <button class="platform-tab dribbble" data-platform="dribbble">
                <div class="platform-icon">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="#EA4C89">
                        <path d="M12 24C5.385 24 0 18.615 0 12S5.385 0 12 0s12 5.385 12 12-5.385 12-12 12zm10.12-10.358c-.35-.11-3.17-.953-6.384-.438 1.34 3.684 1.887 6.684 1.992 7.308 2.3-1.555 3.936-4.02 4.395-6.87zm-6.115 7.808c-.153-.9-.75-4.032-2.19-7.77l-.066.02c-5.79 2.015-7.86 6.025-8.04 6.4 1.73 1.358 3.92 2.166 6.29 2.166 1.42 0 2.77-.29 4-.814zm-11.62-2.58c.232-.4 3.045-5.055 8.332-6.765.135-.045.27-.084.405-.12-.26-.585-.54-1.167-.832-1.74C7.17 11.775 2.206 11.71 1.756 11.7l-.004.312c0 2.633.998 5.037 2.634 6.855zm-2.42-8.955c.46.008 4.683.026 9.477-1.248-1.698-3.018-3.53-5.558-3.8-5.928-2.868 1.35-5.01 3.99-5.676 7.17zM9.6 2.052c.282.38 2.145 2.914 3.822 6 3.645-1.365 5.19-3.44 5.373-3.702-1.81-1.61-4.19-2.586-6.795-2.586-.825 0-1.63.1-2.4.285zm10.335 3.483c-.218.29-1.935 2.493-5.724 4.04.24.49.47.985.68 1.486.08.18.15.36.22.53 3.41-.43 6.8.26 7.14.33-.02-2.42-.88-4.64-2.31-6.38z"/>
                    </svg>
                </div>
                Dribbble
            </button>
            <button class="platform-tab behance" data-platform="behance">
                <div class="platform-icon">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="#1769FF">
                        <path d="M22 7h-7v-2h7v2zm1.726 10c-.442 1.297-2.029 3-5.101 3-3.074 0-5.564-1.729-5.564-5.675 0-3.91 2.325-5.92 5.466-5.92 3.082 0 4.964 1.782 5.375 4.426.078.506.109 1.188.095 2.14h-8.027c.13 3.211 3.483 3.312 4.588 2.029h3.168zm-7.686-4h4.965c-.105-1.547-1.136-2.219-2.477-2.219-1.466 0-2.277.768-2.488 2.219zm-9.574 6.988h-6.466v-14.967h6.953c5.476.081 5.58 5.444 2.72 6.906 3.461 1.26 3.577 8.061-3.207 8.061zm-3.466-8.988h3.584c2.508 0 2.906-3-.312-3h-3.272v3zm3.391 3h-3.391v3.016h3.341c3.055 0 2.868-3.016.05-3.016z"/>
                    </svg>
                </div>
                Behance
            </button>
            <button class="platform-tab kaggle" data-platform="kaggle">
                <div class="platform-icon">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="#20BEFF">
                        <path d="M18.825 23.859c-.022.092-.117.141-.281.141h-3.139c-.187 0-.351-.082-.492-.248l-5.178-6.589-1.448 1.374v5.111c0 .235-.117.352-.351.352H5.505c-.236 0-.354-.117-.354-.352V.353c0-.233.118-.353.354-.353h2.431c.234 0 .351.12.351.353v14.343l6.203-6.272c.165-.165.33-.246.495-.246h3.239c.144 0 .236.06.285.18.046.149.034.255-.036.315l-6.555 6.344 6.836 8.507c.095.104.117.208.071.312"/>
                    </svg>
                </div>
                Kaggle
            </button>
            <button class="platform-tab wellfound" data-platform="wellfound">
                <div class="platform-icon">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="#0D0D0D">
                        <path d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"/>
                    </svg>
                </div>
                Wellfound
            </button>
            <button class="platform-tab substack" data-platform="substack">
                <div class="platform-icon">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="#FF6719">
                        <path d="M22 4H2v16h20V4zM10 15v-4h4v4h4V9.01L12 5 4 9v10h6z"/>
                    </svg>
                </div>
                Substack
            </button>
            <button class="platform-tab devto" data-platform="devto">
                <div class="platform-icon">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="#0A0A0A">
                        <path d="M7.42 10.05c-.18-.16-.46-.23-.84-.23H6l.02 2.44.04 2.45.56-.02c.41 0 .63-.07.83-.26.24-.24.26-.36.26-2.2 0-1.91-.02-1.96-.29-2.18-.2-.14-.48-.35-.64-.43-.18-.09-.35-.14-.35-.12 0 .02.18.14.4.27.22.13.48.32.58.42.1.1.19.2.19.22 0 .02-.08.1-.18.18-.1.08-.26.2-.36.28-.1.08-.18.14-.18.12 0-.02.08-.1.18-.18.1-.08.26-.2.36-.28.1-.1.19-.2.19-.22 0-.02-.08-.1-.18-.18-.1-.08-.26-.2-.36-.28-.1-.08-.17-.14-.17-.12 0 .02.08.1.18.18.1.08.26.2.36.28.1.1.19.2.19.22 0 .02-.08.1-.18.18-.1.08-.26.2-.36.28-.1.08-.18.14-.18.12 0-.02.08-.1.18-.18.1-.08.26-.2.36-.28.1-.1.19-.2.19-.22 0-.02-.08-.1-.18-.18-.1-.08-.26-.2-.36-.28-.1-.08-.17-.14-.17-.12 0 .02.08.1.18.18.1.08.26.2.36.28.1.1.19.2.19.22 0 .02-.08.1-.18.18-.1.08-.26.2-.36.28-.1.08-.18.14-.18.12 0-.02.08-.1.18-.18zM13.98 11.22v6.38h-1.5v-6.38h1.5z"/>
                    </svg>
                </div>
                Dev.to
            </button>
            <button class="platform-tab producthunt" data-platform="producthunt">
                <div class="platform-icon">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="#DA552F">
                        <path d="M13.604 9.4h-3.405v3.2h3.405a1.6 1.6 0 100-3.2zM12 0C5.372 0 0 5.372 0 12s5.372 12 12 12 12-5.372 12-12S18.628 0 12 0zm1.604 14.4h-3.405V18H7.801V6h5.803a4.398 4.398 0 110 8.4z"/>
                    </svg>
                </div>
                Product Hunt
            </button>
            <button class="platform-tab polywork" data-platform="polywork">
                <div class="platform-icon">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="#6C5CE7">
                        <path d="M4 4h6v6H4V4zm10 0h6v6h-6V4zM4 14h6v6H4v-6zm10 0h6v6h-6v-6z"/>
                    </svg>
                </div>
                Polywork
            </button>
            <button class="platform-tab bluesky" data-platform="bluesky">
                <div class="platform-icon">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="#0085FF">
                        <path d="M12 10.8c-2.4-2.88-6.24-2.88-8.64 0-.96 1.14-1.44 2.58-1.44 4.02s.48 2.88 1.44 4.02c2.4 2.88 6.24 2.88 8.64 0 .96-1.14 1.44-2.58 1.44-4.02s-.48-2.88-1.44-4.02zm8.64 0c-2.4-2.88-6.24-2.88-8.64 0-.96 1.14-1.44 2.58-1.44 4.02s.48 2.88 1.44 4.02c2.4 2.88 6.24 2.88 8.64 0 .96-1.14 1.44-2.58 1.44-4.02s-.48-2.88-1.44-4.02z"/>
                    </svg>
                </div>
                Bluesky
            </button>
            <button class="platform-tab quora" data-platform="quora">
                <div class="platform-icon">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="#B92B27">
                        <path d="M12.738 18.701c-.268-.004-.563-.046-.738-.097v2.637c.244.054.487.091.738.09 2.008 0 3.439-1.494 3.439-3.441 0-1.747-.979-2.874-2.436-3.389.542-.182.996-.57 1.273-1.067.277-.497.417-1.066.417-1.707 0-1.33-.695-2.471-2.075-3.233C12.846 6.544 11.393 6 9.756 6 8.12 6 6.656 6.544 5.362 7.558 4.067 8.572 3.42 9.9 3.42 11.544c0 1.644.647 2.972 1.942 3.986 1.294 1.014 2.758 1.558 4.394 1.558.39 0 .776-.034 1.156-.101.076.435.114.893.114 1.355 0 1.365-.261 2.533-.782 3.496-.522.963-1.25 1.72-2.184 2.272zM9.756 7.558c.798 0 1.517.21 2.157.629.64.42 1.073 1.003 1.3 1.75.227.747.341 1.558.341 2.434 0 .876-.114 1.687-.341 2.434-.227.747-.66 1.33-1.3 1.75-.64.42-1.359.629-2.157.629-.798 0-1.517-.21-2.157-.629-.64-.42-1.073-1.003-1.3-1.75-.227-.747-.341-1.558-.341-2.434 0-.876.114-1.687.341-2.434.227-.747.66-1.33 1.3-1.75.64-.42 1.359-.629 2.157-.629z"/>
                    </svg>
                </div>
                Quora
            </button>
            <button class="platform-tab speakerdeck" data-platform="speakerdeck">
                <div class="platform-icon">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="#009287">
                        <path d="M3 3h18v14H3V3zm2 2v10h14V5H5zm2 2h10v6H7V7z"/>
                    </svg>
                </div>
                Speaker Deck
            </button>
        </div>

        <!-- Search Form -->
        <div class="search-card">
            <h2>
                <span id="platform-title-icon">üîç</span>
                <span id="platform-title">Search LinkedIn Profiles</span>
            </h2>

            <div class="form-grid">
                <!-- Job Title -->
                <div class="form-group">
                    <label class="form-label">
                        Job Title / Role
                        <span class="help-icon" onclick="showFieldHelp('jobTitle')" title="Click for tips">‚ÑπÔ∏è</span>
                    </label>
                    <input type="text" class="form-input" id="jobTitle" placeholder="e.g., Software Engineer, Product Manager" oninput="updateSearchTips()">
                </div>

                <!-- Seniority Level -->
                <div class="form-group">
                    <label class="form-label">
                        Seniority Level
                        <span class="help-icon" onclick="showFieldHelp('seniority')" title="Click for tips">‚ÑπÔ∏è</span>
                    </label>
                    <div class="seniority-chips" id="seniorityChips">
                        <button type="button" class="seniority-chip" data-level="entry" onclick="toggleSeniority(this)">Entry/Junior</button>
                        <button type="button" class="seniority-chip" data-level="mid" onclick="toggleSeniority(this)">Mid-Level</button>
                        <button type="button" class="seniority-chip selected" data-level="senior" onclick="toggleSeniority(this)">Senior</button>
                        <button type="button" class="seniority-chip" data-level="staff" onclick="toggleSeniority(this)">Staff</button>
                        <button type="button" class="seniority-chip" data-level="principal" onclick="toggleSeniority(this)">Principal</button>
                        <button type="button" class="seniority-chip" data-level="director" onclick="toggleSeniority(this)">Director+</button>
                    </div>
                </div>

                <!-- Location -->
                <div class="form-group">
                    <label class="form-label">Location</label>
                    <input type="text" class="form-input" id="location" placeholder="e.g., San Francisco, Toronto, Remote" oninput="updateSearchTips()">
                </div>

                <!-- Country (All Platforms) -->
                <div class="form-group">
                    <label class="form-label">Country (Ctrl/Cmd+click for multiple)</label>
                    <select class="form-select" id="country" multiple size="4">
                        <option value="ca" selected>üá®üá¶ Canada</option>
                        <option value="us">üá∫üá∏ United States</option>
                        <option value="uk">üá¨üáß United Kingdom</option>
                        <option value="de">üá©üá™ Germany</option>
                        <option value="fr">üá´üá∑ France</option>
                        <option value="au">üá¶üá∫ Australia</option>
                        <option value="in">üáÆüá≥ India</option>
                        <option value="sg">üá∏üá¨ Singapore</option>
                        <option value="nl">üá≥üá± Netherlands</option>
                        <option value="ie">üáÆüá™ Ireland</option>
                    </select>
                </div>

                <!-- Current Employer -->
                <div class="form-group linkedin-field wellfound-field substack-field devto-field producthunt-field polywork-field bluesky-field quora-field speakerdeck-field">
                    <label class="form-label">Current Company</label>
                    <input type="text" class="form-input" id="currentEmployer" placeholder="e.g., Google, Shopify, Meta">
                </div>

                <!-- Education (LinkedIn) -->
                <div class="form-group linkedin-field wellfound-field substack-field devto-field producthunt-field polywork-field bluesky-field quora-field speakerdeck-field">
                    <label class="form-label">Education Level</label>
                    <select class="form-select" id="education">
                        <option value="">Any</option>
                        <option value="bachelor">Bachelor's Degree</option>
                        <option value="master">Master's Degree</option>
                        <option value="phd">Doctoral Degree (PhD)</option>
                    </select>
                </div>

                <!-- Skills (GitHub/Kaggle) -->
                <div class="form-group github-field kaggle-field hidden">
                    <label class="form-label">Programming Languages / Skills</label>
                    <input type="text" class="form-input" id="skills" placeholder="e.g., Python, React, Kubernetes">
                </div>

                <!-- GitHub-specific: Hireable Filter -->
                <div class="form-group github-field hidden">
                    <label class="form-label">GitHub Profile Filters</label>
                    <div class="github-filters">
                        <label class="github-filter-option">
                            <input type="checkbox" id="githubHireable" checked>
                            <span>üü¢ Hireable (has "available for hire" enabled)</span>
                        </label>
                        <label class="github-filter-option">
                            <input type="checkbox" id="githubActiveContributor">
                            <span>üìä Active (10+ repos, 5+ followers)</span>
                        </label>
                    </div>
                </div>

                <!-- Research Area (Scholar) -->
                <div class="form-group scholar-field hidden">
                    <label class="form-label">Research Area / Field</label>
                    <input type="text" class="form-input" id="researchArea" placeholder="e.g., machine learning, NLP, computer vision">
                </div>

                <!-- Design Style (Dribbble/Behance) -->
                <div class="form-group dribbble-field behance-field hidden">
                    <label class="form-label">Design Specialty</label>
                    <input type="text" class="form-input" id="designStyle" placeholder="e.g., UI design, branding, illustration">
                </div>

                <!-- Tags (Stack Overflow) -->
                <div class="form-group stackoverflow-field hidden">
                    <label class="form-label">Technology Tags</label>
                    <input type="text" class="form-input" id="soTags" placeholder="e.g., python, javascript, aws">
                </div>

                <!-- Bio keywords (Twitter) -->
                <div class="form-group twitter-field hidden">
                    <label class="form-label">Bio Keywords</label>
                    <input type="text" class="form-input" id="bioKeywords" placeholder="e.g., engineer, developer, hiring">
                </div>

                <!-- Keywords to Include -->
                <div class="form-group">
                    <label class="form-label">Keywords to Include</label>
                    <input type="text" class="form-input" id="includeKeywords" placeholder="e.g., machine learning, fintech, SaaS" oninput="updateSearchTips()">
                </div>

                <!-- Keywords to Exclude -->
                <div class="form-group">
                    <label class="form-label">Keywords to Exclude</label>
                    <input type="text" class="form-input" id="excludeKeywords" placeholder="e.g., recruiter, HR, sales" oninput="updateSearchTips()">
                </div>

                <!-- Similar Roles Toggle -->
                <div class="form-group linkedin-field wellfound-field substack-field devto-field producthunt-field polywork-field bluesky-field quora-field speakerdeck-field">
                    <label class="form-label">Include Similar Job Titles</label>
                    <div class="toggle-group">
                        <label class="toggle">
                            <input type="checkbox" id="includeSimilar" checked>
                            <span class="toggle-slider"></span>
                        </label>
                        <span style="font-size: 13px; color: var(--text-secondary);">Auto-expand with related titles</span>
                    </div>
                </div>
            </div>

            <!-- Search Quality Tips -->
            <div class="search-tips" id="searchTips">
                <h4>
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"/>
                    </svg>
                    Search Quality Tips
                </h4>
                <div id="tipsList"></div>
            </div>

            <!-- Company Targeting Section -->
            <div class="company-targeting-section">
                <div class="company-targeting-header" onclick="toggleCompanySection()">
                    <h4>
                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M3 21h18M3 10h18M3 7l9-4 9 4M4 10h16v11H4z"/>
                        </svg>
                        Target Companies
                    </h4>
                    <svg class="collapse-icon open" id="companyIcon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="margin-left: auto;">
                        <polyline points="6,9 12,15 18,9"/>
                    </svg>
                </div>
                <div class="collapsible-content open" id="companyContent">
                    <div class="company-list-grid">
                        <div class="company-list-card" onclick="toggleCompanyList(this, 'faang')">
                            <h5>üè¢ FAANG / Big Tech</h5>
                            <p>Google, Meta, Amazon, Apple, Netflix, Microsoft</p>
                        </div>
                        <div class="company-list-card" onclick="toggleCompanyList(this, 'ecommerce')">
                            <h5>üõí E-commerce / Fintech</h5>
                            <p>Stripe, Square, BigCommerce, Klarna, Affirm</p>
                        </div>
                        <div class="company-list-card" onclick="toggleCompanyList(this, 'highgrowth')">
                            <h5>üöÄ High-Growth Startups</h5>
                            <p>Figma, Notion, Linear, Vercel, Supabase, Retool</p>
                        </div>
                        <div class="company-list-card" onclick="toggleCompanyList(this, 'canadian')">
                            <h5>üçÅ Canadian Tech</h5>
                            <p>Wealthsimple, 1Password, Clio, Hootsuite, Cohere</p>
                        </div>
                        <div class="company-list-card" onclick="toggleCompanyList(this, 'consulting')">
                            <h5>üíº Tech Consulting</h5>
                            <p>Thoughtworks, Pivotal, Slalom, Accenture, Deloitte Digital</p>
                        </div>
                        <div class="company-list-card" onclick="toggleCompanyList(this, 'ai')">
                            <h5>ü§ñ AI / ML Companies</h5>
                            <p>OpenAI, Anthropic, Cohere, Scale AI, Hugging Face</p>
                        </div>
                    </div>
                    <div class="selected-companies" id="selectedCompanies" style="display: none;"></div>
                </div>
            </div>

            <!-- Candidate Signals Section -->
            <div class="signals-section">
                <div class="signals-header" onclick="toggleSignalsSection()">
                    <h4>
                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/>
                            <polyline points="22 4 12 14.01 9 11.01"/>
                        </svg>
                        Candidate Activity Signals
                        <span class="signals-badge">NEW</span>
                    </h4>
                    <svg class="collapse-icon" id="signalsIcon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="margin-left: auto;">
                        <polyline points="6,9 12,15 18,9"/>
                    </svg>
                </div>
                <div class="collapsible-content" id="signalsContent">
                    <p class="signals-description">
                        Find candidates showing signs of being open to new opportunities (passive vs active signals).
                    </p>
                    <div class="signals-grid">
                        <label class="signal-option" onclick="toggleSignalOption(this)">
                            <input type="checkbox" value="open_to_work" class="signal-checkbox">
                            <div class="signal-option-content">
                                <h5>üü¢ Open to Work</h5>
                                <p>LinkedIn "Open to Work" badge, actively looking</p>
                            </div>
                        </label>
                        <label class="signal-option" onclick="toggleSignalOption(this)">
                            <input type="checkbox" value="recent_change" class="signal-checkbox">
                            <div class="signal-option-content">
                                <h5>üîÑ Recent Job Change</h5>
                                <p>Changed roles in last 6-18 months (may be open again)</p>
                            </div>
                        </label>
                        <label class="signal-option" onclick="toggleSignalOption(this)">
                            <input type="checkbox" value="speaker" class="signal-checkbox">
                            <div class="signal-option-content">
                                <h5>üé§ Conference Speaker</h5>
                                <p>Speaks at conferences, high visibility talent</p>
                            </div>
                        </label>
                        <label class="signal-option" onclick="toggleSignalOption(this)">
                            <input type="checkbox" value="content_creator" class="signal-checkbox">
                            <div class="signal-option-content">
                                <h5>‚úçÔ∏è Content Creator</h5>
                                <p>Writes blogs, creates videos, thought leadership</p>
                            </div>
                        </label>
                        <label class="signal-option" onclick="toggleSignalOption(this)">
                            <input type="checkbox" value="open_source" class="signal-checkbox">
                            <div class="signal-option-content">
                                <h5>üîì Open Source Contributor</h5>
                                <p>Active GitHub contributions, maintainer</p>
                            </div>
                        </label>
                        <label class="signal-option" onclick="toggleSignalOption(this)">
                            <input type="checkbox" value="layoff" class="signal-checkbox">
                            <div class="signal-option-content">
                                <h5>üìã Recently Laid Off</h5>
                                <p>Affected by recent tech layoffs, actively seeking</p>
                            </div>
                        </label>
                    </div>
                </div>
            </div>

            <!-- Diversity Sourcing Section -->
            <div class="diversity-section">
                <div class="diversity-header" onclick="toggleDiversitySection()">
                    <h4>
                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/>
                            <circle cx="9" cy="7" r="4"/>
                            <path d="M23 21v-2a4 4 0 0 0-3-3.87"/>
                            <path d="M16 3.13a4 4 0 0 1 0 7.75"/>
                        </svg>
                        Diversity Sourcing
                        <span class="diversity-badge">BETA</span>
                    </h4>
                    <svg class="collapse-icon" id="diversityIcon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="margin-left: auto;">
                        <polyline points="6,9 12,15 18,9"/>
                    </svg>
                </div>
                <div class="collapsible-content" id="diversityContent">
                    <p class="diversity-description">
                        Find candidates affiliated with diversity-focused organizations, HBCUs, professional groups, and conferences.
                    </p>
                    <div class="diversity-grid">
                        <label class="diversity-option" onclick="toggleDiversityOption(this)">
                            <input type="checkbox" value="hbcu" class="diversity-checkbox">
                            <div class="diversity-option-content">
                                <h5>HBCUs</h5>
                                <p>Historically Black Colleges and Universities</p>
                            </div>
                        </label>
                        <label class="diversity-option" onclick="toggleDiversityOption(this)">
                            <input type="checkbox" value="wit" class="diversity-checkbox">
                            <div class="diversity-option-content">
                                <h5>Women in Tech</h5>
                                <p>Women Who Code, AnitaB, Grace Hopper</p>
                            </div>
                        </label>
                        <label class="diversity-option" onclick="toggleDiversityOption(this)">
                            <input type="checkbox" value="bipoc" class="diversity-checkbox">
                            <div class="diversity-option-content">
                                <h5>BIPOC in Tech</h5>
                                <p>/dev/color, NSBE, SHPE, Techqueria</p>
                            </div>
                        </label>
                        <label class="diversity-option" onclick="toggleDiversityOption(this)">
                            <input type="checkbox" value="lgbtq" class="diversity-checkbox">
                            <div class="diversity-option-content">
                                <h5>LGBTQ+ in Tech</h5>
                                <p>Lesbians Who Tech, Out in Tech, oSTEM</p>
                            </div>
                        </label>
                        <label class="diversity-option" onclick="toggleDiversityOption(this)">
                            <input type="checkbox" value="veterans" class="diversity-checkbox">
                            <div class="diversity-option-content">
                                <h5>Veterans</h5>
                                <p>VetsinTech, Hiring Our Heroes</p>
                            </div>
                        </label>
                        <label class="diversity-option" onclick="toggleDiversityOption(this)">
                            <input type="checkbox" value="firstgen" class="diversity-checkbox">
                            <div class="diversity-option-content">
                                <h5>First-Gen / Non-Traditional</h5>
                                <p>Bootcamp grads, career changers</p>
                            </div>
                        </label>
                    </div>
                </div>
            </div>

            <!-- Selected Similar Titles -->
            <div id="similarTitlesContainer" class="hidden" style="margin-top: 16px;">
                <label class="form-label" style="margin-bottom: 8px;">Selected Similar Titles:</label>
                <div class="chips-container" id="selectedTitles"></div>
            </div>

            <!-- Action Buttons -->
            <div class="action-buttons">
                <button class="btn btn-primary" id="generateSearch" onclick="generateSearch()">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="11" cy="11" r="8"></circle>
                        <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
                    </svg>
                    Generate Search
                </button>
                <button class="btn btn-ai" id="aiSuggest" onclick="getAISuggestions()">
                    AI Suggestions
                </button>
                <button class="btn btn-secondary" onclick="clearForm()">
                    Clear
                </button>
            </div>
        </div>

        <!-- Results Section -->
        <div class="results-section hidden" id="resultsSection">
            <div class="results-header">
                <h3>
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M14 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V8z"/>
                        <polyline points="14,2 14,8 20,8"/>
                    </svg>
                    Generated Search Query
                </h3>
                <div class="results-actions">
                    <button class="btn btn-secondary btn-small" onclick="saveSearch()">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M19 21l-7-5-7 5V5a2 2 0 012-2h10a2 2 0 012 2z"/>
                        </svg>
                        Save
                    </button>
                    <button class="btn btn-primary btn-small" id="openSearchBtn" onclick="openSearch()">
                        Open in Google
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"/>
                            <polyline points="15,3 21,3 21,9"/>
                            <line x1="10" y1="14" x2="21" y2="3"/>
                        </svg>
                    </button>
                </div>
            </div>
            <div class="query-display" id="queryDisplay">
                <button class="copy-btn" onclick="copyQuery()">
                    <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <rect x="9" y="9" width="13" height="13" rx="2" ry="2"/>
                        <path d="M5 15H4a2 2 0 01-2-2V4a2 2 0 012-2h9a2 2 0 012 2v1"/>
                    </svg>
                    Copy
                </button>
                <textarea id="queryText" class="query-textarea" rows="4" oninput="updateCurrentQuery(this.value)" placeholder="Your search query will appear here..."></textarea>
                <p class="query-edit-hint">
                    <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M11 4H4a2 2 0 00-2 2v14a2 2 0 002 2h14a2 2 0 002-2v-7"/>
                        <path d="M18.5 2.5a2.121 2.121 0 013 3L12 15l-4 1 1-4 9.5-9.5z"/>
                    </svg>
                    You can edit this query before opening
                </p>
            </div>

            <!-- AI Optimize Button -->
            <div class="ai-optimize-section">
                <button class="btn btn-ai" onclick="optimizeQueryWithAI()" id="aiOptimizeBtn">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M12 2L2 7l10 5 10-5-10-5z"/>
                        <path d="M2 17l10 5 10-5"/>
                        <path d="M2 12l10 5 10-5"/>
                    </svg>
                    <span id="aiOptimizeBtnText">AI Optimize Query</span>
                </button>
                <span class="ai-optimize-hint">Let AI analyze and improve your search</span>
            </div>

            <!-- AI Optimized Result -->
            <div class="ai-optimized-result hidden" id="aiOptimizedResult">
                <div class="ai-result-header">
                    <h4>
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#5C6AC4" stroke-width="2">
                            <path d="M12 2L2 7l10 5 10-5-10-5z"/>
                            <path d="M2 17l10 5 10-5"/>
                            <path d="M2 12l10 5 10-5"/>
                        </svg>
                        AI-Optimized Query
                    </h4>
                    <button class="btn btn-primary btn-small" onclick="useOptimizedQuery()">
                        Use This Query
                    </button>
                </div>
                <div class="ai-optimized-query" id="aiOptimizedQuery"></div>
                <div class="ai-explanation" id="aiExplanation"></div>
            </div>
        </div>

        <!-- AI Suggestions -->
        <div class="suggestions-panel hidden" id="suggestionsPanel">
            <h4>
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#5C6AC4" stroke-width="2">
                    <path d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"/>
                </svg>
                AI-Suggested Similar Titles (click to add)
            </h4>
            <div class="suggestion-chips" id="suggestionChips"></div>
        </div>

        <!-- Email Generator -->
        <div class="email-section hidden" id="emailSection">
            <h3>
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/>
                    <polyline points="22,6 12,13 2,6"/>
                </svg>
                Outreach Email Template
            </h3>
            <div class="email-controls">
                <button class="tone-btn active" data-tone="professional" onclick="setEmailTone('professional')">Professional</button>
                <button class="tone-btn" data-tone="casual" onclick="setEmailTone('casual')">Casual</button>
                <button class="tone-btn" data-tone="enthusiastic" onclick="setEmailTone('enthusiastic')">Enthusiastic</button>
                <button class="tone-btn" data-tone="concise" onclick="setEmailTone('concise')">Concise</button>
                <button class="tone-btn ai-tone" data-tone="ai" onclick="generateAIEmail()">
                    <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M12 2L2 7l10 5 10-5-10-5z"/>
                        <path d="M2 17l10 5 10-5"/>
                        <path d="M2 12l10 5 10-5"/>
                    </svg>
                    AI Generate
                </button>
            </div>
            <div class="ai-email-options hidden" id="aiEmailOptions">
                <label class="form-label">Customize AI Email (optional)</label>
                <div class="ai-email-inputs">
                    <input type="text" class="form-input" id="candidateName" placeholder="Candidate's name (optional)">
                    <input type="text" class="form-input" id="specificSkill" placeholder="Specific skill to mention (optional)">
                    <select class="form-select" id="aiEmailTone">
                        <option value="professional">Professional tone</option>
                        <option value="friendly">Friendly tone</option>
                        <option value="enthusiastic">Enthusiastic tone</option>
                        <option value="brief">Brief & direct</option>
                    </select>
                </div>
                <button class="btn btn-ai btn-small" onclick="generateAIEmailWithOptions()" id="aiEmailBtn">
                    <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M12 2L2 7l10 5 10-5-10-5z"/>
                        <path d="M2 17l10 5 10-5"/>
                        <path d="M2 12l10 5 10-5"/>
                    </svg>
                    <span id="aiEmailBtnText">Generate with AI</span>
                </button>
            </div>
            <div class="email-template" id="emailTemplate"></div>
            <div class="email-actions">
                <button class="btn btn-secondary btn-small" onclick="regenerateEmail()">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M23 4v6h-6M1 20v-6h6"/>
                        <path d="M3.51 9a9 9 0 0114.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0020.49 15"/>
                    </svg>
                    Regenerate
                </button>
                <button class="btn btn-primary btn-small" onclick="copyEmail()">
                    Copy Email
                </button>
            </div>
        </div>

        <!-- Boolean Cheat Sheet -->
        <div class="cheatsheet-section">
            <h3 onclick="toggleCheatsheet()">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <circle cx="12" cy="12" r="10"/>
                    <path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"/>
                    <line x1="12" y1="17" x2="12.01" y2="17"/>
                </svg>
                Boolean Search Cheat Sheet
                <svg class="collapse-icon" id="cheatsheetIcon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="margin-left: auto;">
                    <polyline points="6,9 12,15 18,9"/>
                </svg>
            </h3>
            <div class="collapsible-content" id="cheatsheetContent">
                <div class="cheatsheet-grid" style="margin-top: 16px;">
                    <div class="cheatsheet-item">
                        <code>"exact phrase"</code>
                        <p>Search for an exact phrase, e.g., "software engineer"</p>
                    </div>
                    <div class="cheatsheet-item">
                        <code>OR</code>
                        <p>Match either term: "engineer" OR "developer"</p>
                    </div>
                    <div class="cheatsheet-item">
                        <code>-exclude</code>
                        <p>Exclude a term: engineer -recruiter</p>
                    </div>
                    <div class="cheatsheet-item">
                        <code>site:linkedin.com/in/</code>
                        <p>Search only LinkedIn profiles (X-Ray search)</p>
                    </div>
                    <div class="cheatsheet-item">
                        <code>(grouping)</code>
                        <p>Group terms: (engineer OR developer) Toronto</p>
                    </div>
                    <div class="cheatsheet-item">
                        <code>intitle:</code>
                        <p>Search in page title: intitle:"senior engineer"</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Saved Searches -->
        <div class="saved-searches" id="savedSearchesSection">
            <h3>
                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M19 21l-7-5-7 5V5a2 2 0 012-2h10a2 2 0 012 2z"/>
                </svg>
                Saved Searches
            </h3>
            <div id="savedSearchesList">
                <p style="color: var(--text-secondary); font-size: 14px;">No saved searches yet. Generate a search and save it!</p>
            </div>
        </div>
    </main>

    <footer class="footer">
        <p>Built with üíö for Shopify Hiring Managers | Hosted on <a href="https://quick.shopify.io" target="_blank">Quick</a></p>
        <p style="margin-top: 8px;">Need help? Reach out to your recruiter</p>
    </footer>

    <!-- How to Use Guide Modal -->
    <div class="modal-overlay" id="guideModal" onclick="closeGuideOnOverlay(event)">
        <div class="modal">
            <div class="modal-header">
                <div class="modal-header-content">
                    <img src="logo.png" alt="Talent Scout">
                    <div>
                        <h2>Welcome to Talent Scout!</h2>
                        <p>Your AI-powered sourcing assistant</p>
                    </div>
                </div>
                <button class="modal-close" onclick="closeGuide()">&times;</button>
            </div>
            <div class="modal-body">
                <!-- Boolean Cheat Sheet - IMPORTANT -->
                <div class="guide-boolean-section">
                    <div class="guide-boolean-header">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="#D82C0D" stroke-width="2">
                            <circle cx="12" cy="12" r="10"/>
                            <line x1="12" y1="8" x2="12" y2="12"/>
                            <line x1="12" y1="16" x2="12.01" y2="16"/>
                        </svg>
                        <h4>Master Boolean Search - It's Essential!</h4>
                    </div>
                    <p class="guide-boolean-intro">Boolean operators are the foundation of effective sourcing. Without them, your searches won't find the right candidates. Learn these basics:</p>
                    
                    <div class="guide-boolean-grid">
                        <div class="guide-boolean-item">
                            <code>"exact phrase"</code>
                            <span>Search for exact words together</span>
                        </div>
                        <div class="guide-boolean-item">
                            <code>OR</code>
                            <span>Match either term (more results)</span>
                        </div>
                        <div class="guide-boolean-item">
                            <code>AND</code>
                            <span>Must contain both terms</span>
                        </div>
                        <div class="guide-boolean-item">
                            <code>-exclude</code>
                            <span>Remove unwanted results</span>
                        </div>
                        <div class="guide-boolean-item">
                            <code>(grouping)</code>
                            <span>Group terms together</span>
                        </div>
                        <div class="guide-boolean-item">
                            <code>site:linkedin.com/in/</code>
                            <span>X-Ray search LinkedIn</span>
                        </div>
                    </div>

                    <div class="guide-boolean-example">
                        <strong>Example:</strong> <code>site:linkedin.com/in/ ("Software Engineer" OR "Developer") AND Python -recruiter</code>
                    </div>
                </div>

                <div class="guide-divider">
                    <span>How to use this tool</span>
                </div>

                <div class="guide-step">
                    <div class="step-number">1</div>
                    <div class="step-content">
                        <h4>Choose Your Platform</h4>
                        <p>Select where you want to search for candidates using the platform tabs. Each platform is optimized for different types of roles.</p>
                        <div class="tip">üí° LinkedIn is great for most roles. Try GitHub for developers, Dribbble/Behance for designers, Wellfound for startup talent, Substack/Dev.to for writers and technical bloggers, Product Hunt for makers, and Speaker Deck for conference speakers.</div>
                    </div>
                </div>

                <div class="guide-step">
                    <div class="step-number">2</div>
                    <div class="step-content">
                        <h4>Enter Job Details</h4>
                        <p>Fill in the job title, location, and any specific keywords you want to include or exclude. The more specific you are, the better your results will be.</p>
                        <div class="tip">üí° Use the <strong>Quick Templates</strong> at the top for common roles like Software Engineer or Product Manager.</div>
                    </div>
                </div>

                <div class="guide-step">
                    <div class="step-number">3</div>
                    <div class="step-content">
                        <h4>Target Specific Companies</h4>
                        <p>Expand the <strong>Target Companies</strong> section to source from specific company lists like FAANG, Canadian Tech, or AI startups. These candidates often have relevant experience.</p>
                    </div>
                </div>

                <div class="guide-step">
                    <div class="step-number">4</div>
                    <div class="step-content">
                        <h4>Use Diversity Sourcing (Optional)</h4>
                        <p>Expand the <strong>Diversity Sourcing</strong> section to find candidates from underrepresented groups. This searches for affiliations with professional organizations like Women Who Code, /dev/color, and HBCUs.</p>
                    </div>
                </div>

                <div class="guide-step">
                    <div class="step-number">5</div>
                    <div class="step-content">
                        <h4>Generate & Search</h4>
                        <p>Click <strong>Generate Search</strong> to create your boolean query, then <strong>Open in Google</strong> to see results. You can switch platforms using the tabs at the top.</p>
                    </div>
                </div>

                <div class="guide-step">
                    <div class="step-number">6</div>
                    <div class="step-content">
                        <h4>Reach Out to Candidates</h4>
                        <p>Use the auto-generated <strong>Outreach Email Template</strong> below the search results. Choose your tone (Professional, Casual, Enthusiastic, or Concise) and click <strong>Regenerate</strong> for variations.</p>
                    </div>
                </div>

                <div class="guide-features">
                    <div class="guide-feature">
                        <span class="guide-feature-icon">üíæ</span>
                        <span class="guide-feature-text">Save searches for later</span>
                    </div>
                    <div class="guide-feature">
                        <span class="guide-feature-icon">üåô</span>
                        <span class="guide-feature-text">Dark mode available</span>
                    </div>
                    <div class="guide-feature">
                        <span class="guide-feature-icon">üìã</span>
                        <span class="guide-feature-text">Copy queries & emails</span>
                    </div>
                    <div class="guide-feature">
                        <span class="guide-feature-icon">ü§ñ</span>
                        <span class="guide-feature-text">AI title suggestions</span>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <label class="dont-show-again">
                    <input type="checkbox" id="dontShowAgain">
                    Don't show this again
                </label>
                <button class="btn btn-primary" onclick="closeGuide()">
                    Get Started
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M5 12h14M12 5l7 7-7 7"/>
                    </svg>
                </button>
            </div>
        </div>
    </div>

    <script>
        // State
        let currentPlatform = 'linkedin';
        let currentQuery = '';
        let savedSearches = [];
        let selectedSimilarTitles = [];
        let searchCount = parseInt(localStorage.getItem('talentScoutSearchCount') || '0');
        let isDarkMode = localStorage.getItem('talentScoutDarkMode') === 'true';
        let currentEmailTone = 'professional';
        let currentJobTitle = '';
        let selectedCompanyLists = [];
        let selectedCompanies = [];

        // Quick Database for shared saved searches
        let searchesDB = null;
        
        async function initDatabase() {
            try {
                if (typeof quick !== 'undefined' && quick.db) {
                    searchesDB = quick.db.collection('saved_searches');
                    await loadSavedSearches();
                } else {
                    // Fallback to localStorage if not on Quick
                    savedSearches = JSON.parse(localStorage.getItem('talentScoutSearches') || '[]');
                    renderSavedSearches();
                }
            } catch (error) {
                console.error('Database init error:', error);
                savedSearches = JSON.parse(localStorage.getItem('talentScoutSearches') || '[]');
                renderSavedSearches();
            }
        }

        async function loadSavedSearches() {
            try {
                if (searchesDB) {
                    const results = await searchesDB.find();
                    savedSearches = results.sort((a, b) => new Date(b.created_at) - new Date(a.created_at));
                    renderSavedSearches();
                }
            } catch (error) {
                console.error('Load searches error:', error);
            }
        }

        // Company lists
        const companyLists = {
            'faang': ['Google', 'Meta', 'Amazon', 'Apple', 'Netflix', 'Microsoft', 'Alphabet'],
            'ecommerce': ['Stripe', 'Square', 'BigCommerce', 'Klarna', 'Affirm', 'PayPal', 'Adyen', 'Checkout.com'],
            'highgrowth': ['Figma', 'Notion', 'Linear', 'Vercel', 'Supabase', 'Retool', 'Airtable', 'Miro', 'Canva'],
            'canadian': ['Wealthsimple', '1Password', 'Clio', 'Hootsuite', 'Cohere', 'Ada', 'Clearco', 'ApplyBoard', 'Dialogue'],
            'consulting': ['Thoughtworks', 'Pivotal Labs', 'Slalom', 'Accenture', 'Deloitte Digital', 'McKinsey Digital'],
            'ai': ['OpenAI', 'Anthropic', 'Cohere', 'Scale AI', 'Hugging Face', 'Stability AI', 'Midjourney', 'Runway']
        };


        // Seniority level prefixes for boolean search
        const seniorityPrefixes = {
            'entry': ['Junior', 'Entry', 'Associate', 'I ', ' I"', 'New Grad'],
            'mid': ['Mid', 'II ', ' II"', 'Level 2', 'Intermediate'],
            'senior': ['Senior', 'Sr', 'III', 'Lead', 'Level 3'],
            'staff': ['Staff', 'IV', 'Level 4', 'Principal'],
            'principal': ['Principal', 'Distinguished', 'V ', 'Fellow', 'Architect'],
            'director': ['Director', 'VP', 'Vice President', 'Head of', 'Chief', 'CTO', 'CIO', 'CDO']
        };

        // Candidate activity signals for sourcing
        const candidateSignals = {
            'open_to_work': ['"open to work"', '"looking for"', '"seeking"', '"available for"', '"open to opportunities"', '#opentowork'],
            'recent_change': ['"started new position"', '"joined"', '"new role"', '"excited to announce"', '"just started"'],
            'speaker': ['"speaker"', '"keynote"', '"conference"', '"presented at"', '"panelist"', '"tech talk"', 'TEDx'],
            'content_creator': ['"blog"', '"author"', '"writes about"', '"newsletter"', '"YouTube"', '"podcast"', '"technical writing"'],
            'open_source': ['"open source"', '"maintainer"', '"contributor"', '"GitHub"', '"OSS"', '"Apache"', '"CNCF"'],
            'layoff': ['"laid off"', '"affected by layoffs"', '"looking for next"', '#opentowork', '"recently departed"', '"exploring opportunities"']
        };

        let selectedSeniorityLevels = ['senior'];
        let selectedSignals = [];

        // Job title synonyms database
        const jobTitleSynonyms = {
            'software engineer': ['software developer', 'programmer', 'full stack developer', 'backend engineer', 'frontend engineer', 'web developer', 'full-stack engineer', 'senior software engineer', 'staff software engineer', 'principal engineer', 'platform engineer'],
            'product manager': ['product owner', 'pm', 'product lead', 'product director', 'technical product manager', 'senior product manager', 'group product manager', 'principal product manager'],
            'data scientist': ['machine learning engineer', 'ml engineer', 'data analyst', 'ai engineer', 'research scientist', 'applied scientist', 'senior data scientist', 'staff data scientist', 'product data scientist'],
            'designer': ['ux designer', 'ui designer', 'product designer', 'visual designer', 'interaction designer', 'ux/ui designer', 'senior designer', 'staff designer', 'design lead'],
            'devops': ['site reliability engineer', 'sre', 'platform engineer', 'infrastructure engineer', 'cloud engineer', 'devops engineer', 'senior devops engineer', 'staff sre'],
            'engineering manager': ['engineering lead', 'tech lead', 'development manager', 'software engineering manager', 'eng manager', 'director of engineering', 'senior engineering manager', 'vp engineering'],
            'data engineer': ['data platform engineer', 'analytics engineer', 'etl developer', 'big data engineer', 'senior data engineer', 'staff data engineer', 'data infrastructure engineer'],
            'security engineer': ['cybersecurity engineer', 'infosec engineer', 'application security engineer', 'security analyst', 'appsec engineer', 'senior security engineer', 'staff security engineer'],
            'mobile developer': ['ios developer', 'android developer', 'mobile engineer', 'react native developer', 'flutter developer', 'swift developer', 'senior mobile engineer', 'staff mobile engineer'],
            'qa engineer': ['quality assurance engineer', 'test engineer', 'sdet', 'automation engineer', 'quality engineer', 'test automation engineer', 'senior qa engineer'],
            'frontend': ['frontend engineer', 'frontend developer', 'ui developer', 'react developer', 'vue developer', 'javascript developer', 'senior frontend engineer'],
            'backend': ['backend engineer', 'backend developer', 'server engineer', 'api developer', 'senior backend engineer', 'staff backend engineer'],
            'recruiter': ['talent acquisition', 'technical recruiter', 'sourcer', 'recruiting coordinator', 'talent partner', 'senior recruiter'],
            'product analyst': ['business analyst', 'data analyst', 'analytics manager', 'senior product analyst', 'insights analyst'],
            'technical writer': ['documentation engineer', 'content developer', 'docs writer', 'senior technical writer']
        };

        // Diversity search terms
        const diversityTerms = {
            'hbcu': ['Howard University', 'Spelman College', 'Morehouse College', 'Hampton University', 'Tuskegee University', 'Florida A&M', 'HBCU'],
            'wit': ['Women Who Code', 'AnitaB.org', 'Grace Hopper', 'Girls Who Code', 'Women in Tech', 'PyLadies'],
            'bipoc': ['/dev/color', 'NSBE', 'SHPE', 'Techqueria', 'Black in Tech', 'ColorStack', 'Code2040'],
            'lgbtq': ['Lesbians Who Tech', 'Out in Tech', 'oSTEM', 'Pride in Tech', 'Queer in Tech'],
            'veterans': ['VetsinTech', 'Hiring Our Heroes', 'Operation Code', 'Military Veteran'],
            'firstgen': ['bootcamp', 'Flatiron School', 'General Assembly', 'Hack Reactor', 'App Academy', 'career changer']
        };

        // Email templates by tone
        const emailTemplates = {
            professional: (jobTitle) => `Hi [Candidate Name],

I came across your profile and was impressed by your background as a ${jobTitle}. I'm reaching out from Shopify ‚Äî we're building commerce infrastructure that powers millions of businesses worldwide.

We're currently looking for talented ${jobTitle}s to join our team, and your experience caught my attention.

Would you be open to a brief conversation to learn more about what we're working on?

Best regards,
[Your Name]
Shopify`,
            casual: (jobTitle) => `Hey [Candidate Name]!

I stumbled across your profile and had to reach out ‚Äî your work as a ${jobTitle} is really impressive!

We're hiring at Shopify and I think you'd be a great fit. Any chance you'd be up for a quick chat?

Cheers,
[Your Name]
Shopify`,
            enthusiastic: (jobTitle) => `Hi [Candidate Name]!

I just came across your profile and I'm genuinely excited to reach out! Your experience as a ${jobTitle} is exactly what we're looking for at Shopify.

I'd love to tell you more about the amazing projects we're working on. Would you be open to a quick call?

Best,
[Your Name]
Shopify`,
            concise: (jobTitle) => `Hi [Candidate Name],

Saw your ${jobTitle} experience ‚Äî impressive background.

Shopify is hiring for this role. Interested in chatting?

[Your Name]
Shopify`
        };

        // Templates
        const templates = {
            'software-engineer': { 
                jobTitle: 'Software Engineer', 
                location: 'Toronto', 
                includeKeywords: 'Ruby, Python, Go, React, microservices', 
                excludeKeywords: 'recruiter, HR',
                customQuery: 'site:linkedin.com/in/ ("Software Engineer" OR "Senior Software Engineer" OR "Staff Software Engineer" OR "Backend Engineer" OR "Full Stack Engineer" OR "Platform Engineer") AND (Ruby OR Python OR Go OR Java OR "Ruby on Rails" OR React) AND ("system design" OR "microservices" OR "distributed systems" OR "scalable systems" OR architecture) AND (SaaS OR "e-commerce" OR fintech OR "tech company") AND ("cross-functional" OR "product development" OR mentorship OR "technical leadership")'
            },
            'product-manager': { jobTitle: 'Product Manager', location: 'Toronto', includeKeywords: 'SaaS, B2B, e-commerce', excludeKeywords: 'recruiter, sales' },
            'designer': { jobTitle: 'Product Designer', location: 'Toronto', includeKeywords: 'Figma, user research, design systems', excludeKeywords: 'graphic design, print' },
            'data-scientist': { 
                jobTitle: 'Data Scientist', 
                location: 'Toronto', 
                includeKeywords: 'Python, SQL, experimentation, A/B testing, product analytics', 
                excludeKeywords: 'recruiter, intern',
                customQuery: 'site:linkedin.com/in/ ("Data Scientist" OR "Product Data Scientist" OR "Senior Data Scientist" OR "Staff Data Scientist" OR "Product Analytics") AND (Python OR SQL) AND (experimentation OR "A/B testing" OR "product analytics" OR "metrics" OR "KPI") AND ("data storytelling" OR "stakeholder" OR "business impact" OR "product development") AND (e-commerce OR SaaS OR "tech company" OR fintech OR marketplace)'
            },
            'engineering-manager': { jobTitle: 'Engineering Manager', location: 'Toronto', includeKeywords: 'leadership, agile, team', excludeKeywords: 'recruiter, consultant' },
            'devops': { jobTitle: 'DevOps Engineer', location: 'Toronto', includeKeywords: 'Kubernetes, AWS, CI/CD', excludeKeywords: 'recruiter, junior' },
            'data-engineer': { 
                jobTitle: 'Data Engineer', 
                location: 'Toronto', 
                includeKeywords: 'SQL, Python, dbt, BigQuery, Snowflake, Airflow', 
                excludeKeywords: 'recruiter, intern',
                customQuery: 'site:linkedin.com/in/ ("Data Engineer" OR "Analytics Engineer" OR "Analytical Engineer" OR "BI Engineer" OR "Data Platform Engineer") AND (SQL AND Python) AND (dbt OR "data modeling" OR "dimensional modeling" OR "data transformation") AND (BigQuery OR Snowflake OR Redshift OR "data warehouse") AND (Airflow OR Composer OR "data pipeline" OR orchestration) AND ("data architecture" OR "Star Schema" OR Kimball OR "data quality" OR governance)'
            }
        };

        const countryCodes = { 'us': 'United States', 'ca': 'Canada', 'uk': 'United Kingdom', 'de': 'Germany', 'fr': 'France', 'au': 'Australia', 'in': 'India', 'sg': 'Singapore', 'nl': 'Netherlands', 'ie': 'Ireland' };

        const platformSites = {
            'linkedin': 'site:linkedin.com/in/',
            'github': 'site:github.com',
            'stackoverflow': 'site:stackoverflow.com/users/',
            'twitter': 'site:twitter.com OR site:x.com',
            'scholar': 'site:scholar.google.com/citations',
            'dribbble': 'site:dribbble.com',
            'behance': 'site:behance.net',
            'kaggle': 'site:kaggle.com',
            'wellfound': 'site:wellfound.com',
            'substack': 'site:substack.com',
            'devto': 'site:dev.to',
            'producthunt': 'site:producthunt.com',
            'polywork': 'site:polywork.com',
            'bluesky': 'site:bsky.app',
            'quora': 'site:quora.com',
            'speakerdeck': 'site:speakerdeck.com'
        };

        const platformNames = {
            'linkedin': 'LinkedIn',
            'github': 'GitHub', 
            'stackoverflow': 'Stack Overflow',
            'twitter': 'X / Twitter',
            'scholar': 'Google Scholar',
            'dribbble': 'Dribbble',
            'behance': 'Behance',
            'kaggle': 'Kaggle',
            'wellfound': 'Wellfound',
            'substack': 'Substack',
            'devto': 'Dev.to',
            'producthunt': 'Product Hunt',
            'polywork': 'Polywork',
            'bluesky': 'Bluesky',
            'quora': 'Quora',
            'speakerdeck': 'Speaker Deck'
        };

        // Guide Modal Functions
        function showGuide() {
            document.getElementById('guideModal').classList.add('visible');
            document.body.style.overflow = 'hidden';
        }

        function closeGuide() {
            const modal = document.getElementById('guideModal');
            const dontShowAgain = document.getElementById('dontShowAgain').checked;
            
            if (dontShowAgain) {
                localStorage.setItem('talentScoutHideGuide', 'true');
            }
            
            modal.classList.remove('visible');
            document.body.style.overflow = '';
        }

        function closeGuideOnOverlay(event) {
            if (event.target.id === 'guideModal') {
                closeGuide();
            }
        }

        function checkFirstVisit() {
            const hideGuide = localStorage.getItem('talentScoutHideGuide');
            if (!hideGuide) {
                showGuide();
            }
        }

        // Initialize
        document.addEventListener('DOMContentLoaded', async () => {
            setupPlatformTabs();
            updateStats();
            if (isDarkMode) {
                document.body.classList.add('dark-mode');
                updateDarkModeIcon();
            }
            checkFirstVisit();
            // Initialize database and load saved searches
            await initDatabase();
        });

        function setupPlatformTabs() {
            document.querySelectorAll('.platform-tab').forEach(tab => {
                tab.addEventListener('click', () => switchPlatform(tab.dataset.platform));
            });
        }

        function switchPlatform(platform) {
            currentPlatform = platform;
            document.querySelectorAll('.platform-tab').forEach(tab => tab.classList.toggle('active', tab.dataset.platform === platform));
            
            const allPlatformFields = ['linkedin', 'github', 'stackoverflow', 'twitter', 'scholar', 'dribbble', 'behance', 'kaggle', 'wellfound', 'substack', 'devto', 'producthunt', 'polywork', 'bluesky', 'quora', 'speakerdeck'];
            allPlatformFields.forEach(p => document.querySelectorAll(`.${p}-field`).forEach(el => el.classList.add('hidden')));
            document.querySelectorAll(`.${platform}-field`).forEach(el => el.classList.remove('hidden'));

            const titles = { 'linkedin': 'Search LinkedIn Profiles', 'github': 'Search GitHub Developers', 'stackoverflow': 'Search Stack Overflow Users', 'twitter': 'Search X / Twitter Profiles', 'scholar': 'Search Google Scholar Authors', 'dribbble': 'Search Dribbble Designers', 'behance': 'Search Behance Creatives', 'kaggle': 'Search Kaggle Data Scientists', 'wellfound': 'Search Wellfound (AngelList) Talent', 'substack': 'Search Substack Writers', 'devto': 'Search Dev.to Developers', 'producthunt': 'Search Product Hunt Makers', 'polywork': 'Search Polywork Profiles', 'bluesky': 'Search Bluesky Profiles', 'quora': 'Search Quora Experts', 'speakerdeck': 'Search Speaker Deck Presenters' };
            document.getElementById('platform-title').textContent = titles[platform] || 'Search Profiles';

            document.getElementById('resultsSection').classList.add('hidden');
            document.getElementById('emailSection').classList.add('hidden');
        }

        function toggleCompanyList(element, listName) {
            element.classList.toggle('selected');
            const idx = selectedCompanyLists.indexOf(listName);
            if (idx > -1) {
                selectedCompanyLists.splice(idx, 1);
                selectedCompanies = selectedCompanies.filter(c => !companyLists[listName].includes(c));
            } else {
                selectedCompanyLists.push(listName);
                selectedCompanies = [...new Set([...selectedCompanies, ...companyLists[listName]])];
            }
            updateSelectedCompaniesDisplay();
        }

        function updateSelectedCompaniesDisplay() {
            const container = document.getElementById('selectedCompanies');
            if (selectedCompanies.length > 0) {
                container.style.display = 'flex';
                container.innerHTML = '<span style="font-size: 12px; color: var(--text-secondary); width: 100%; margin-bottom: 8px;">Selected companies:</span>' + 
                    selectedCompanies.map(c => `<span class="company-chip">${c} <span class="remove" onclick="removeCompany('${c}')">√ó</span></span>`).join('');
            } else {
                container.style.display = 'none';
            }
        }

        function removeCompany(company) {
            selectedCompanies = selectedCompanies.filter(c => c !== company);
            updateSelectedCompaniesDisplay();
        }

        function updateSearchTips() {
            const tips = [];
            const jobTitle = document.getElementById('jobTitle').value.trim();
            const location = document.getElementById('location').value.trim();
            const excludeKeywords = document.getElementById('excludeKeywords').value.trim();
            const includeKeywords = document.getElementById('includeKeywords').value.trim();

            if (!jobTitle) {
                tips.push({ type: 'warning', text: 'Add a job title to get better results' });
            }
            if (!location && !document.getElementById('country').value) {
                tips.push({ type: 'info', text: 'Consider adding a location to narrow results', action: 'addLocation' });
            }
            if (!excludeKeywords) {
                tips.push({ type: 'info', text: 'Tip: Exclude "recruiter" and "HR" to filter out non-candidates', action: 'addExclusions' });
            }
            if (jobTitle && !document.getElementById('includeSimilar').checked) {
                tips.push({ type: 'info', text: 'Enable "Similar Job Titles" to expand your search' });
            }
            if (selectedCompanies.length === 0 && jobTitle) {
                tips.push({ type: 'info', text: 'Try targeting specific companies for better quality candidates' });
            }
            if (jobTitle && location && excludeKeywords) {
                tips.push({ type: 'success', text: 'Your search looks well-optimized!' });
            }

            const tipsContainer = document.getElementById('searchTips');
            const tipsList = document.getElementById('tipsList');

            if (tips.length > 0) {
                tipsList.innerHTML = tips.map(tip => `
                    <div class="tip-item">
                        <span class="tip-icon ${tip.type}">${tip.type === 'warning' ? '‚ö†Ô∏è' : tip.type === 'success' ? '‚úì' : 'üí°'}</span>
                        <span class="tip-text">${tip.text}${tip.action ? `<span class="tip-action" onclick="applyTipAction('${tip.action}')">Apply</span>` : ''}</span>
                    </div>
                `).join('');
                tipsContainer.classList.add('visible');
            } else {
                tipsContainer.classList.remove('visible');
            }
        }

        function applyTipAction(action) {
            if (action === 'addLocation') {
                document.getElementById('location').focus();
            } else if (action === 'addExclusions') {
                document.getElementById('excludeKeywords').value = 'recruiter, HR, talent acquisition';
                updateSearchTips();
            }
        }

        function loadTemplate(templateName) {
            const template = templates[templateName];
            if (!template) return;
            document.getElementById('jobTitle').value = template.jobTitle || '';
            document.getElementById('location').value = template.location || '';
            document.getElementById('includeKeywords').value = template.includeKeywords || '';
            document.getElementById('excludeKeywords').value = template.excludeKeywords || '';
            updateSearchTips();
            
            // Use custom query if available, otherwise generate normally
            if (template.customQuery) {
                currentJobTitle = template.jobTitle || '';
                currentQuery = template.customQuery;
                displayQuery(currentQuery);
                generateEmailTemplate();
                searchCount++;
                localStorage.setItem('talentScoutSearchCount', searchCount.toString());
                updateStats();
            } else {
                generateSearch();
            }
        }

        function getSelectedDiversityTerms() {
            const selected = [];
            document.querySelectorAll('.diversity-checkbox:checked').forEach(checkbox => {
                const terms = diversityTerms[checkbox.value];
                if (terms) selected.push(...terms);
            });
            return selected;
        }

        function toggleDiversityOption(element) {
            element.classList.toggle('selected');
        }

        function toggleSeniority(element) {
            const level = element.dataset.level;
            element.classList.toggle('selected');
            
            if (element.classList.contains('selected')) {
                if (!selectedSeniorityLevels.includes(level)) {
                    selectedSeniorityLevels.push(level);
                }
            } else {
                selectedSeniorityLevels = selectedSeniorityLevels.filter(l => l !== level);
            }
            updateSearchTips();
        }

        function toggleSignalsSection() {
            const content = document.getElementById('signalsContent');
            const icon = document.getElementById('signalsIcon');
            content.classList.toggle('open');
            icon.classList.toggle('open');
        }

        function toggleSignalOption(element) {
            element.classList.toggle('selected');
            const checkbox = element.querySelector('.signal-checkbox');
            const value = checkbox.value;
            
            if (element.classList.contains('selected')) {
                checkbox.checked = true;
                if (!selectedSignals.includes(value)) {
                    selectedSignals.push(value);
                }
            } else {
                checkbox.checked = false;
                selectedSignals = selectedSignals.filter(s => s !== value);
            }
        }

        function getSelectedSignalTerms() {
            const terms = [];
            selectedSignals.forEach(signal => {
                if (candidateSignals[signal]) {
                    terms.push(...candidateSignals[signal]);
                }
            });
            return terms;
        }

        // Specialized GitHub search builder - uses GitHub's native search, not Google X-Ray
        // GitHub's search is much more effective at finding developer profiles
        function buildGitHubQuery(jobTitle, location, skills, includeKeywords, excludeKeywords) {
            // Build GitHub native search query using their search qualifiers
            // See: https://docs.github.com/en/search-github/searching-on-github/searching-users
            let queryParts = [];
            queryParts.push('type:user'); // Only search for users, not orgs
            
            // Add hireable filter if checked
            const githubHireable = document.getElementById('githubHireable')?.checked;
            if (githubHireable) {
                queryParts.push('is:hireable');
            }
            
            // Add programming languages/skills using GitHub's language qualifier
            if (skills) {
                const skillList = skills.split(',').map(s => s.trim()).filter(s => s);
                // GitHub supports language: qualifier for user's repo languages
                skillList.forEach(skill => {
                    queryParts.push(`language:${skill.replace(/\s+/g, '-')}`);
                });
            }
            
            // Add location using GitHub's location qualifier
            if (location) {
                queryParts.push(`location:"${location}"`);
            }
            
            // Handle countries - use location qualifier
            const countrySelect = document.getElementById('country');
            const selectedCountries = Array.from(countrySelect.selectedOptions).map(opt => opt.value);
            if (selectedCountries.length > 0 && !location) {
                // Only add country if no specific location
                const countryNames = selectedCountries
                    .filter(c => countryCodes[c])
                    .map(c => countryCodes[c]);
                if (countryNames.length === 1) {
                    queryParts.push(`location:"${countryNames[0]}"`);
                } else if (countryNames.length > 1) {
                    // GitHub search doesn't support OR for location, use first one
                    queryParts.push(`location:"${countryNames[0]}"`);
                }
            }
            
            // Add job title / bio keywords using fullname or general search
            if (jobTitle) {
                // GitHub searches user bio, name, and readme with plain text
                queryParts.push(`"${jobTitle}"`);
            }
            
            // Add include keywords to search bio/readme
            if (includeKeywords) {
                const keywords = includeKeywords.split(',').map(k => k.trim()).filter(k => k);
                keywords.forEach(kw => {
                    queryParts.push(`"${kw}"`);
                });
            }
            
            // Add repos qualifier based on activity preference
            const githubActiveContributor = document.getElementById('githubActiveContributor')?.checked;
            if (githubActiveContributor) {
                queryParts.push('repos:>10'); // Users with more than 10 repos
                queryParts.push('followers:>5'); // With some followers
            }
            
            // Add selected companies to search (company field or bio)
            if (selectedCompanies.length > 0) {
                // Take first company for GitHub search
                queryParts.push(`"${selectedCompanies[0]}"`);
            }
            
            const query = queryParts.join(' ');
            
            // Store the GitHub-native query for display, but we'll generate a special URL
            return query;
        }
        
        // Check if current platform uses native search (not Google)
        function usesNativeSearch(platform) {
            return platform === 'github';
        }
        
        // Get the native search URL for platforms that support it
        function getNativeSearchUrl(platform, query) {
            if (platform === 'github') {
                // GitHub's native user search URL
                return `https://github.com/search?q=${encodeURIComponent(query)}&type=users`;
            }
            return null;
        }

        function buildQuery(platform) {
            const jobTitle = document.getElementById('jobTitle').value.trim();
            const location = document.getElementById('location').value.trim();
            const includeKeywords = document.getElementById('includeKeywords').value.trim();
            const excludeKeywords = document.getElementById('excludeKeywords').value.trim();
            const skills = document.getElementById('skills').value.trim();

            // Special handling for GitHub to find developer profiles like Octohunt
            if (platform === 'github') {
                return buildGitHubQuery(jobTitle, location, skills, includeKeywords, excludeKeywords);
            }

            let query = platformSites[platform] || platformSites['linkedin'];

            if (jobTitle) {
                let titles = [];
                const baseTitle = jobTitle;
                
                // Apply seniority level prefixes
                if (selectedSeniorityLevels.length > 0) {
                    selectedSeniorityLevels.forEach(level => {
                        const prefixes = seniorityPrefixes[level] || [];
                        // Add the base title with seniority prefixes
                        if (level === 'mid') {
                            // Mid-level often doesn't have a prefix, just the title
                            titles.push(`"${baseTitle}"`);
                        }
                        prefixes.forEach(prefix => {
                            // Handle prefixes that go before vs after
                            if (prefix.endsWith(' ')) {
                                titles.push(`"${prefix}${baseTitle}"`);
                            } else if (prefix.startsWith(' ')) {
                                titles.push(`"${baseTitle}${prefix}"`);
                            } else {
                                titles.push(`"${prefix} ${baseTitle}"`);
                            }
                        });
                    });
                } else {
                    titles.push(`"${baseTitle}"`);
                }
                
                if (document.getElementById('includeSimilar').checked) {
                    const lowerTitle = jobTitle.toLowerCase();
                    let foundMatch = false;
                    
                    // Check each synonym group for matches
                    for (const [key, synonyms] of Object.entries(jobTitleSynonyms)) {
                        // Check if entered title contains the key OR key contains the entered title
                        // Also check if any synonym matches
                        const keyMatches = lowerTitle.includes(key) || key.includes(lowerTitle);
                        const synonymMatches = synonyms.some(s => 
                            lowerTitle.includes(s.toLowerCase()) || s.toLowerCase().includes(lowerTitle)
                        );
                        
                        if (keyMatches || synonymMatches) {
                            // Add the key if not already present
                            if (!titles.includes(`"${key}"`)) titles.push(`"${key}"`);
                            // Add all synonyms
                            synonyms.forEach(syn => { 
                                if (!titles.includes(`"${syn}"`)) titles.push(`"${syn}"`); 
                            });
                            foundMatch = true;
                            break;
                        }
                    }
                    
                    // If no match found, add common variations based on selected seniority
                    if (!foundMatch && jobTitle.length > 3 && selectedSeniorityLevels.length === 0) {
                        const variations = [
                            `Senior ${jobTitle}`,
                            `Staff ${jobTitle}`,
                            `Lead ${jobTitle}`
                        ];
                        variations.forEach(v => {
                            if (!titles.includes(`"${v}"`)) titles.push(`"${v}"`);
                        });
                    }
                }
                selectedSimilarTitles.forEach(title => { if (!titles.includes(`"${title}"`)) titles.push(`"${title}"`); });
                
                // Deduplicate titles
                titles = [...new Set(titles)];
                query += ' (' + titles.join(' OR ') + ')';
            }

            if (location) query += ` "${location}"`;

            // Handle multiple countries from multi-select dropdown (all platforms)
            const countrySelect = document.getElementById('country');
            const selectedOptions = Array.from(countrySelect.selectedOptions).map(opt => opt.value);
            if (selectedOptions.length > 0) {
                const countryTerms = selectedOptions
                    .filter(c => countryCodes[c])
                    .map(c => `"${countryCodes[c]}"`);
                if (countryTerms.length === 1) {
                    query += ` ${countryTerms[0]}`;
                } else if (countryTerms.length > 1) {
                    query += ` (${countryTerms.join(' OR ')})`;
                }
            }

            if (platform === 'linkedin') {
                const currentEmployer = document.getElementById('currentEmployer').value.trim();
                if (currentEmployer) {
                    const employers = currentEmployer.split(',').map(e => `"${e.trim()}"`).join(' OR ');
                    query += ` (${employers})`;
                }
            }

            // Add selected companies (from Target Companies)
            if (selectedCompanies.length > 0) {
                const companyQuery = selectedCompanies.map(c => `"${c}"`).join(' OR ');
                query += ` (${companyQuery})`;
            }

            if (includeKeywords) {
                const keywords = includeKeywords.split(',').map(k => `"${k.trim()}"`).join(' ');
                query += ` ${keywords}`;
            }

            // Add candidate activity signals
            const signalTerms = getSelectedSignalTerms();
            if (signalTerms.length > 0) {
                const signalQuery = signalTerms.join(' OR ');
                query += ` (${signalQuery})`;
            }

            const diversitySelected = getSelectedDiversityTerms();
            if (diversitySelected.length > 0) {
                const diversityQuery = diversitySelected.map(t => `"${t}"`).join(' OR ');
                query += ` (${diversityQuery})`;
            }

            if (excludeKeywords) {
                const exclusions = excludeKeywords.split(',').map(k => `-"${k.trim()}"`).join(' ');
                query += ` ${exclusions}`;
            }

            return query;
        }

        function generateSearch() {
            currentJobTitle = document.getElementById('jobTitle').value.trim();
            currentQuery = buildQuery(currentPlatform);
            displayQuery(currentQuery);
            generateEmailTemplate();
            searchCount++;
            localStorage.setItem('talentScoutSearchCount', searchCount.toString());
            updateStats();
            updateSearchTips();
            updateOpenButton();
        }
        
        function updateOpenButton() {
            const btn = document.getElementById('openSearchBtn');
            if (usesNativeSearch(currentPlatform)) {
                const platformLabel = platformNames[currentPlatform] || currentPlatform;
                btn.innerHTML = `
                    Open in ${platformLabel}
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"/>
                        <polyline points="15,3 21,3 21,9"/>
                        <line x1="10" y1="14" x2="21" y2="3"/>
                    </svg>
                `;
            } else {
                btn.innerHTML = `
                    Open in Google
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"/>
                        <polyline points="15,3 21,3 21,9"/>
                        <line x1="10" y1="14" x2="21" y2="3"/>
                    </svg>
                `;
            }
        }

        // AI Query Optimization
        let optimizedQuery = '';

        async function optimizeQueryWithAI() {
            if (!currentQuery) {
                alert('Please generate a search query first.');
                return;
            }

            const btn = document.getElementById('aiOptimizeBtn');
            const btnText = document.getElementById('aiOptimizeBtnText');
            
            // Show loading state
            btn.classList.add('loading');
            btnText.textContent = 'Optimizing...';

            try {
                if (typeof quick === 'undefined' || !quick.ai) {
                    throw new Error('AI not available - please deploy to Quick first');
                }

                const jobTitle = document.getElementById('jobTitle').value.trim();
                const platform = currentPlatform;

                const prompt = `You are an expert at Boolean search queries for recruiting. 
                
Analyze this search query and improve it to find better candidates:

Current Query: ${currentQuery}

Job Title: ${jobTitle}
Platform: ${platform}

Please provide:
1. An improved Boolean search query that will find more relevant candidates
2. Keep the site: operator for the platform
3. Add relevant skills, technologies, or keywords that are commonly associated with this role
4. Use proper Boolean operators (AND, OR, NOT, quotes for exact phrases)
5. Make sure the query is not too long (under 500 characters ideally)

Respond in this exact format:
QUERY: [your optimized query here]
EXPLANATION: [2-3 sentences explaining what you improved]`;

                const response = await quick.ai.ask(prompt);
                
                // Parse the response
                const queryMatch = response.match(/QUERY:\s*(.+?)(?=EXPLANATION:|$)/s);
                const explanationMatch = response.match(/EXPLANATION:\s*(.+)/s);

                if (queryMatch) {
                    optimizedQuery = queryMatch[1].trim();
                    document.getElementById('aiOptimizedQuery').textContent = optimizedQuery;
                    document.getElementById('aiExplanation').innerHTML = explanationMatch 
                        ? `<strong>What AI improved:</strong> ${explanationMatch[1].trim()}`
                        : '<strong>Query optimized by AI</strong>';
                    document.getElementById('aiOptimizedResult').classList.remove('hidden');
                } else {
                    // If parsing fails, use the whole response as the query
                    optimizedQuery = response.trim();
                    document.getElementById('aiOptimizedQuery').textContent = optimizedQuery;
                    document.getElementById('aiExplanation').innerHTML = '<strong>Query optimized by AI</strong>';
                    document.getElementById('aiOptimizedResult').classList.remove('hidden');
                }

            } catch (error) {
                console.error('AI optimization error:', error);
                alert('AI optimization failed: ' + error.message);
            } finally {
                btn.classList.remove('loading');
                btnText.textContent = 'AI Optimize Query';
            }
        }

        function useOptimizedQuery() {
            if (optimizedQuery) {
                currentQuery = optimizedQuery;
                document.getElementById('queryText').value = optimizedQuery;
                document.getElementById('aiOptimizedResult').classList.add('hidden');
                // Scroll to the query
                document.getElementById('queryDisplay').scrollIntoView({ behavior: 'smooth', block: 'center' });
            }
        }

        function openPlatformSearch(platform) {
            const query = buildQuery(platform);
            let url;
            
            // Use native search for platforms that support it (like GitHub)
            if (usesNativeSearch(platform)) {
                url = getNativeSearchUrl(platform, query);
            } else {
                url = `https://www.google.com/search?q=${encodeURIComponent(query)}`;
            }
            
            window.open(url, '_blank');
        }

        function displayQuery(query) {
            document.getElementById('queryText').value = query;
            document.getElementById('resultsSection').classList.remove('hidden');
            document.getElementById('resultsSection').scrollIntoView({ behavior: 'smooth', block: 'start' });
        }
        
        function updateCurrentQuery(value) {
            currentQuery = value;
        }

        function generateEmailTemplate() {
            if (!currentJobTitle) {
                document.getElementById('emailSection').classList.add('hidden');
                return;
            }
            const template = emailTemplates[currentEmailTone](currentJobTitle);
            document.getElementById('emailTemplate').textContent = template;
            document.getElementById('emailSection').classList.remove('hidden');
        }

        function setEmailTone(tone) {
            currentEmailTone = tone;
            document.querySelectorAll('.tone-btn').forEach(btn => btn.classList.toggle('active', btn.dataset.tone === tone));
            generateEmailTemplate();
        }

        function regenerateEmail() {
            const variations = {
                professional: [
                    `Dear [Candidate Name],\n\nYour profile caught my attention while researching talented ${currentJobTitle}s. At Shopify, we're constantly seeking exceptional individuals.\n\nWould you be available for a brief conversation?\n\nWarm regards,\n[Your Name]\nShopify`,
                    `Hello [Candidate Name],\n\nI hope this message finds you well. I came across your profile and was impressed by your experience as a ${currentJobTitle}.\n\nShopify is currently expanding our team, and I believe your background aligns well with our needs. Would you be open to exploring this opportunity?\n\nBest regards,\n[Your Name]\nShopify`,
                    `Dear [Candidate Name],\n\nI'm reaching out from Shopify's Talent team. Your ${currentJobTitle} experience and career trajectory are exactly what we look for.\n\nI'd welcome the chance to discuss how your skills could contribute to our mission of making commerce better for everyone.\n\nLooking forward to connecting,\n[Your Name]\nShopify`,
                    `Hi [Candidate Name],\n\nYour background as a ${currentJobTitle} stood out to me during my search for exceptional talent. At Shopify, we're building the future of commerce and are always looking for people like you.\n\nWould you have 15 minutes for a quick call this week?\n\nBest,\n[Your Name]\nShopify`
                ],
                casual: [
                    `Hey [Candidate Name]!\n\nJust saw your profile and thought ‚Äî this person would be awesome at Shopify! Want to grab a virtual coffee?\n\n[Your Name]\nShopify`,
                    `Hi [Candidate Name]!\n\nI stumbled across your profile and had to reach out. Your ${currentJobTitle} work looks really impressive!\n\nWe're hiring at Shopify and I think you'd be a great fit. Open to chatting?\n\nCheers,\n[Your Name]\nShopify`,
                    `Hey there!\n\nSaw your profile and got excited ‚Äî your ${currentJobTitle} experience is exactly what we need at Shopify.\n\nNo pressure, but would love to tell you about what we're building. Coffee chat?\n\n[Your Name]\nShopify`,
                    `Hi [Candidate Name]!\n\nQuick note ‚Äî your background caught my eye and I think Shopify could be a great next step for you.\n\nWant to hear more? I promise to keep it brief!\n\n[Your Name]\nShopify`
                ],
                enthusiastic: [
                    `Hi [Candidate Name]!\n\nWOW ‚Äî your ${currentJobTitle} experience is incredible! I couldn't pass up the opportunity to reach out.\n\nLet's chat?\n\n[Your Name]\nShopify`,
                    `Hey [Candidate Name]!\n\nI'm so excited to reach out! Your work as a ${currentJobTitle} is seriously impressive, and I immediately thought of Shopify.\n\nWe're doing amazing things here and I'd LOVE to tell you about it. Are you up for a call?\n\n[Your Name]\nShopify`,
                    `Hi [Candidate Name]!\n\nOkay, I have to be honest ‚Äî your profile made my day! Finding talented ${currentJobTitle}s like you is exactly why I love my job.\n\nShopify would be lucky to have you. Can we talk?\n\n[Your Name]\nShopify`,
                    `[Candidate Name]!\n\nJust found your profile and I'm genuinely thrilled! Your ${currentJobTitle} journey is exactly the kind of story we love at Shopify.\n\nI'd be SO happy to share what we're working on. Interested?\n\n[Your Name]\nShopify`
                ],
                concise: [
                    `[Candidate Name],\n\nHiring ${currentJobTitle}s at Shopify. Saw your background ‚Äî interested?\n\n[Your Name]`,
                    `Hi [Candidate Name],\n\nShopify. ${currentJobTitle} role. Your profile fits. Quick call?\n\n[Your Name]`,
                    `[Candidate Name],\n\nImpressive ${currentJobTitle} background. We're hiring at Shopify. Worth a conversation?\n\n[Your Name]`,
                    `Hi,\n\nSaw your profile. Looking for ${currentJobTitle}s at Shopify. Open to chat?\n\n[Your Name]`
                ]
            };
            const toneVariations = variations[currentEmailTone];
            const randomVariation = toneVariations[Math.floor(Math.random() * toneVariations.length)];
            document.getElementById('emailTemplate').textContent = randomVariation;
        }

        // AI Email Generation
        function generateAIEmail() {
            // Toggle AI options panel
            const aiOptions = document.getElementById('aiEmailOptions');
            aiOptions.classList.toggle('hidden');
            
            // Deselect other tone buttons
            document.querySelectorAll('.tone-btn').forEach(btn => btn.classList.remove('active'));
            document.querySelector('.tone-btn.ai-tone').classList.add('active');
        }

        async function generateAIEmailWithOptions() {
            const candidateName = document.getElementById('candidateName').value.trim() || '[Candidate Name]';
            const specificSkill = document.getElementById('specificSkill').value.trim();
            const tone = document.getElementById('aiEmailTone').value;
            
            const btn = document.getElementById('aiEmailBtn');
            const btnText = document.getElementById('aiEmailBtnText');
            
            // Show loading state
            btn.classList.add('loading');
            btnText.textContent = 'Generating...';
            
            try {
                if (typeof quick === 'undefined' || !quick.ai) {
                    throw new Error('AI not available - please deploy to Quick first');
                }
                
                const prompt = `Write a recruiting outreach email for a ${currentJobTitle} position at Shopify.

Context:
- Candidate name: ${candidateName}
- Job title being recruited for: ${currentJobTitle}
- Tone: ${tone}
${specificSkill ? `- Specific skill to mention: ${specificSkill}` : ''}

Requirements:
- Keep it concise (under 150 words)
- Be genuine and personable, not generic
- Mention Shopify and what makes it an exciting place to work
- Include a clear call to action
- Use the specified tone (${tone})
- Sign off with [Your Name] as a placeholder

Write only the email, no explanations or subject lines.`;

                const result = await quick.ai.ask(prompt);
                
                if (result && result.trim()) {
                    document.getElementById('emailTemplate').textContent = result.trim();
                } else {
                    throw new Error('AI returned empty response');
                }
            } catch (error) {
                console.error('AI email generation error:', error);
                alert(error.message || 'Failed to generate AI email. Please try again.');
            } finally {
                btn.classList.remove('loading');
                btnText.textContent = 'Generate with AI';
            }
        }

        function copyEmail() {
            navigator.clipboard.writeText(document.getElementById('emailTemplate').textContent).then(() => alert('Email copied!'));
        }

        function openSearch() {
            let url;
            if (usesNativeSearch(currentPlatform)) {
                url = getNativeSearchUrl(currentPlatform, currentQuery);
            } else {
                url = `https://www.google.com/search?q=${encodeURIComponent(currentQuery)}`;
            }
            window.open(url, '_blank');
        }

        function copyQuery() {
            navigator.clipboard.writeText(currentQuery).then(() => {
                const btn = document.querySelector('.copy-btn');
                btn.classList.add('copied');
                btn.innerHTML = '<svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="20,6 9,17 4,12"/></svg> Copied!';
                setTimeout(() => {
                    btn.classList.remove('copied');
                    btn.innerHTML = '<svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"/><path d="M5 15H4a2 2 0 01-2-2V4a2 2 0 012-2h9a2 2 0 012 2v1"/></svg> Copy';
                }, 2000);
            });
        }

        function getAISuggestions() {
            const jobTitle = document.getElementById('jobTitle').value.trim().toLowerCase();
            if (!jobTitle) { alert('Please enter a job title first.'); return; }
            let suggestions = [];
            for (const [key, synonyms] of Object.entries(jobTitleSynonyms)) {
                if (jobTitle.includes(key) || synonyms.some(s => jobTitle.includes(s))) {
                    suggestions = [...synonyms, key];
                    break;
                }
            }
            if (suggestions.length === 0) {
                if (jobTitle.includes('engineer')) suggestions = ['software engineer', 'senior engineer', 'staff engineer', 'principal engineer'];
                else if (jobTitle.includes('developer')) suggestions = ['software developer', 'web developer', 'full stack developer', 'senior developer'];
                else if (jobTitle.includes('manager')) suggestions = ['engineering manager', 'product manager', 'project manager', 'technical program manager'];
                else if (jobTitle.includes('design')) suggestions = ['product designer', 'ux designer', 'ui designer', 'visual designer', 'senior designer'];
                else if (jobTitle.includes('data')) suggestions = ['data scientist', 'data analyst', 'data engineer', 'analytics engineer'];
                else if (jobTitle.includes('analyst')) suggestions = ['business analyst', 'data analyst', 'product analyst', 'systems analyst'];
                else suggestions = ['senior ' + jobTitle, 'lead ' + jobTitle, 'staff ' + jobTitle, 'principal ' + jobTitle];
            }
            suggestions = [...new Set(suggestions)].filter(s => s.toLowerCase() !== jobTitle);
            const panel = document.getElementById('suggestionsPanel');
            if (suggestions.length > 0) {
                document.getElementById('suggestionChips').innerHTML = suggestions.map(s => `<button class="suggestion-chip" onclick="addSuggestion('${s}')">${s}</button>`).join('');
            } else {
                document.getElementById('suggestionChips').innerHTML = '<span style="color: var(--text-secondary); font-size: 13px;">No suggestions available for this title.</span>';
            }
            panel.classList.remove('hidden');
            panel.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
        }

        function addSuggestion(title) {
            if (!selectedSimilarTitles.includes(title)) {
                selectedSimilarTitles.push(title);
                updateSelectedTitles();
            }
            generateSearch();
        }

        function updateSelectedTitles() {
            const container = document.getElementById('similarTitlesContainer');
            const chipsEl = document.getElementById('selectedTitles');
            if (selectedSimilarTitles.length > 0) {
                container.classList.remove('hidden');
                chipsEl.innerHTML = selectedSimilarTitles.map(title => `<span class="chip selected">${title}<span class="remove" onclick="removeSimilarTitle('${title}')">√ó</span></span>`).join('');
            } else {
                container.classList.add('hidden');
            }
        }

        function removeSimilarTitle(title) {
            selectedSimilarTitles = selectedSimilarTitles.filter(t => t !== title);
            updateSelectedTitles();
            if (currentQuery) generateSearch();
        }

        function clearForm() {
            document.querySelectorAll('.form-input, .form-select').forEach(el => {
                el.value = '';
            });
            document.getElementById('includeSimilar').checked = true;
            
            // Reset countries to just Canada
            const countrySelect = document.getElementById('country');
            Array.from(countrySelect.options).forEach(opt => {
                opt.selected = opt.value === 'ca';
            });
            
            // Reset seniority to just Senior
            document.querySelectorAll('.seniority-chip').forEach(chip => {
                chip.classList.toggle('selected', chip.dataset.level === 'senior');
            });
            selectedSeniorityLevels = ['senior'];
            
            // Reset GitHub filters
            const githubHireable = document.getElementById('githubHireable');
            const githubActiveContributor = document.getElementById('githubActiveContributor');
            const githubHasWebsite = document.getElementById('githubHasWebsite');
            if (githubHireable) githubHireable.checked = true;
            if (githubActiveContributor) githubActiveContributor.checked = false;
            if (githubHasWebsite) githubHasWebsite.checked = false;
            
            // Reset signals
            document.querySelectorAll('.signal-checkbox').forEach(cb => { cb.checked = false; cb.closest('.signal-option').classList.remove('selected'); });
            selectedSignals = [];
            
            document.querySelectorAll('.diversity-checkbox').forEach(cb => { cb.checked = false; cb.closest('.diversity-option').classList.remove('selected'); });
            document.querySelectorAll('.company-list-card').forEach(c => c.classList.remove('selected'));
            selectedCompanyLists = [];
            selectedCompanies = [];
            updateSelectedCompaniesDisplay();
            selectedSimilarTitles = [];
            updateSelectedTitles();
            document.getElementById('resultsSection').classList.add('hidden');
            document.getElementById('emailSection').classList.add('hidden');
            document.getElementById('aiEmailOptions').classList.add('hidden');
            document.getElementById('suggestionsPanel').classList.add('hidden');
            document.getElementById('searchTips').classList.remove('visible');
            
            // Reset AI email inputs
            document.getElementById('candidateName').value = '';
            document.getElementById('specificSkill').value = '';
            document.getElementById('aiEmailTone').value = 'professional';
            
            // Reset tone buttons
            document.querySelectorAll('.tone-btn').forEach(btn => btn.classList.remove('active'));
            document.querySelector('.tone-btn[data-tone="professional"]').classList.add('active');
            currentEmailTone = 'professional';
            
            currentQuery = '';
            currentJobTitle = '';
        }

        async function saveSearch() {
            if (!currentQuery) return;
            const searchData = {
                platform: currentPlatform,
                title: document.getElementById('jobTitle').value.trim() || 'Untitled Search',
                query: currentQuery,
                savedBy: 'anonymous',
                // Save all form fields for restoration
                formData: {
                    jobTitle: document.getElementById('jobTitle').value.trim(),
                    location: document.getElementById('location').value.trim(),
                    selectedCountries: Array.from(document.getElementById('country').selectedOptions).map(opt => opt.value),
                    currentEmployer: document.getElementById('currentEmployer').value.trim(),
                    education: document.getElementById('education').value.trim(),
                    skills: document.getElementById('skills').value.trim(),
                    tags: document.getElementById('tags').value.trim(),
                    bio: document.getElementById('bio').value.trim(),
                    includeKeywords: document.getElementById('includeKeywords').value.trim(),
                    excludeKeywords: document.getElementById('excludeKeywords').value.trim(),
                    includeSimilar: document.getElementById('includeSimilar').checked,
                    selectedCompanies: [...selectedCompanies],
                    selectedSimilarTitles: [...selectedSimilarTitles],
                    selectedSeniorityLevels: [...selectedSeniorityLevels],
                    selectedSignals: [...selectedSignals],
                    githubHireable: document.getElementById('githubHireable')?.checked,
                    githubActiveContributor: document.getElementById('githubActiveContributor')?.checked,
                    githubHasWebsite: document.getElementById('githubHasWebsite')?.checked
                }
            };
            
            try {
                if (searchesDB) {
                    // Get current user info if available
                    if (typeof quick !== 'undefined' && quick.id && quick.id.fullName) {
                        searchData.savedBy = quick.id.fullName;
                    }
                    await searchesDB.create(searchData);
                    await loadSavedSearches();
                } else {
                    // Fallback to localStorage
                    savedSearches.unshift({ id: Date.now(), ...searchData, timestamp: new Date().toISOString() });
                    if (savedSearches.length > 20) savedSearches = savedSearches.slice(0, 20);
                    localStorage.setItem('talentScoutSearches', JSON.stringify(savedSearches));
                    renderSavedSearches();
                }
                updateStats();
            } catch (error) {
                console.error('Save search error:', error);
                alert('Failed to save search. Please try again.');
            }
        }

        function renderSavedSearches() {
            const container = document.getElementById('savedSearchesList');
            if (savedSearches.length === 0) {
                container.innerHTML = '<p style="color: var(--text-secondary); font-size: 14px;">No saved searches yet. Generate a search and click "Save" to add it here!</p>';
                return;
            }
            container.innerHTML = savedSearches.map(s => `
                <div class="saved-search-item" onclick="loadSavedSearch('${s.id}')">
                    <div class="saved-search-info">
                        <div class="saved-search-platform">${getPlatformIcon(s.platform)}</div>
                        <div style="display: flex; flex-direction: column; gap: 2px;">
                            <span class="saved-search-text">${s.title}</span>
                            <span style="font-size: 11px; color: var(--text-secondary);">by ${s.savedBy || 'anonymous'}</span>
                        </div>
                    </div>
                    <button class="saved-search-delete" onclick="event.stopPropagation(); deleteSavedSearch('${s.id}')" title="Delete">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M3 6h18M19 6v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6m3 0V4a2 2 0 012-2h4a2 2 0 012 2v2"/></svg>
                    </button>
                </div>
            `).join('');
        }

        function getPlatformIcon(platform) {
            const icons = { linkedin: 'üîó', github: 'üêô', stackoverflow: 'üìö', twitter: 'üê¶', scholar: 'üéì', dribbble: 'üèÄ', behance: 'üé®', kaggle: 'üìä' };
            return icons[platform] || 'üîç';
        }

        function loadSavedSearch(id) {
            const search = savedSearches.find(s => s.id === id || s.id === parseInt(id));
            if (search) { 
                // Switch to the saved platform
                switchPlatform(search.platform);
                
                // Restore form fields if we have them
                if (search.formData) {
                    document.getElementById('jobTitle').value = search.formData.jobTitle || '';
                    document.getElementById('location').value = search.formData.location || '';
                    document.getElementById('currentEmployer').value = search.formData.currentEmployer || '';
                    document.getElementById('education').value = search.formData.education || '';
                    document.getElementById('skills').value = search.formData.skills || '';
                    document.getElementById('tags').value = search.formData.tags || '';
                    document.getElementById('bio').value = search.formData.bio || '';
                    document.getElementById('includeKeywords').value = search.formData.includeKeywords || '';
                    document.getElementById('excludeKeywords').value = search.formData.excludeKeywords || '';
                    document.getElementById('includeSimilar').checked = search.formData.includeSimilar !== false;
                    
                    // Restore selected countries
                    if (search.formData.selectedCountries) {
                        const countrySelect = document.getElementById('country');
                        Array.from(countrySelect.options).forEach(opt => {
                            opt.selected = search.formData.selectedCountries.includes(opt.value);
                        });
                    }
                    
                    // Restore selected companies
                    if (search.formData.selectedCompanies) {
                        selectedCompanies = [...search.formData.selectedCompanies];
                        updateSelectedCompaniesDisplay();
                    }
                    
                    // Restore selected similar titles
                    if (search.formData.selectedSimilarTitles) {
                        selectedSimilarTitles = [...search.formData.selectedSimilarTitles];
                        updateSelectedTitles();
                    }
                    
                    // Restore seniority levels
                    if (search.formData.selectedSeniorityLevels) {
                        selectedSeniorityLevels = [...search.formData.selectedSeniorityLevels];
                        document.querySelectorAll('.seniority-chip').forEach(chip => {
                            chip.classList.toggle('selected', selectedSeniorityLevels.includes(chip.dataset.level));
                        });
                    }
                    
                    // Restore selected signals
                    if (search.formData.selectedSignals) {
                        selectedSignals = [...search.formData.selectedSignals];
                        document.querySelectorAll('.signal-checkbox').forEach(cb => {
                            const isSelected = selectedSignals.includes(cb.value);
                            cb.checked = isSelected;
                            cb.closest('.signal-option').classList.toggle('selected', isSelected);
                        });
                    }
                    
                    // Restore GitHub filters
                    if (search.formData.githubHireable !== undefined) {
                        const githubHireable = document.getElementById('githubHireable');
                        if (githubHireable) githubHireable.checked = search.formData.githubHireable;
                    }
                    if (search.formData.githubActiveContributor !== undefined) {
                        const githubActiveContributor = document.getElementById('githubActiveContributor');
                        if (githubActiveContributor) githubActiveContributor.checked = search.formData.githubActiveContributor;
                    }
                    if (search.formData.githubHasWebsite !== undefined) {
                        const githubHasWebsite = document.getElementById('githubHasWebsite');
                        if (githubHasWebsite) githubHasWebsite.checked = search.formData.githubHasWebsite;
                    }
                    
                    // Set job title for email template
                    currentJobTitle = search.formData.jobTitle || '';
                }
                
                // Display the query
                currentQuery = search.query; 
                displayQuery(search.query);
                generateEmailTemplate();
                updateSearchTips();
                
                // Scroll to top of form first, then results
                document.querySelector('.search-card').scrollIntoView({ behavior: 'smooth', block: 'start' });
            }
        }

        async function deleteSavedSearch(id) {
            if (!confirm('Delete this saved search?')) return;
            
            try {
                if (searchesDB) {
                    await searchesDB.delete(id);
                    await loadSavedSearches();
                } else {
                    savedSearches = savedSearches.filter(s => s.id !== id && s.id !== parseInt(id));
                    localStorage.setItem('talentScoutSearches', JSON.stringify(savedSearches));
                    renderSavedSearches();
                }
                updateStats();
            } catch (error) {
                console.error('Delete search error:', error);
                alert('Failed to delete search. Please try again.');
            }
        }

        function updateStats() {
            document.getElementById('searchCount').textContent = searchCount;
            document.getElementById('savedCount').textContent = savedSearches.length;
        }

        function toggleDarkMode() {
            isDarkMode = !isDarkMode;
            document.body.classList.toggle('dark-mode', isDarkMode);
            localStorage.setItem('talentScoutDarkMode', isDarkMode.toString());
            updateDarkModeIcon();
        }

        function updateDarkModeIcon() {
            const icon = document.getElementById('darkModeIcon');
            icon.innerHTML = isDarkMode ? '<circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/>' : '<path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/>';
        }

        function showFieldHelp(field) {
            const helpTexts = {
                jobTitle: `<strong>Job Title Tips:</strong>
                <ul style="margin: 8px 0 0 16px; line-height: 1.6;">
                    <li>Use the exact title candidates would have (e.g., "Software Engineer" not "coder")</li>
                    <li>Try variations: "Senior Software Engineer", "Staff Engineer"</li>
                    <li>Enable "Include Similar Titles" to auto-expand with related roles</li>
                    <li>Use the AI Suggestions button for related titles</li>
                </ul>`,
                seniority: `<strong>Seniority Level Tips:</strong>
                <ul style="margin: 8px 0 0 16px; line-height: 1.6;">
                    <li>Select multiple levels to broaden your search (e.g., Senior + Staff)</li>
                    <li><strong>Entry/Junior:</strong> 0-2 years experience, new grads</li>
                    <li><strong>Mid-Level:</strong> 2-5 years experience</li>
                    <li><strong>Senior:</strong> 5-8 years experience, independent contributor</li>
                    <li><strong>Staff:</strong> 8+ years, technical leadership</li>
                    <li><strong>Principal:</strong> 10+ years, domain expertise</li>
                    <li><strong>Director+:</strong> Leadership and management roles</li>
                </ul>`
            };
            
            const text = helpTexts[field] || 'Enter the relevant information for better search results.';
            
            // Create a temporary tooltip
            const existingTooltip = document.querySelector('.field-help-tooltip');
            if (existingTooltip) existingTooltip.remove();
            
            const tooltip = document.createElement('div');
            tooltip.className = 'field-help-tooltip';
            tooltip.innerHTML = `
                <div style="display: flex; justify-content: space-between; align-items: start; margin-bottom: 8px;">
                    <span style="font-size: 16px;">üí°</span>
                    <button onclick="this.parentElement.parentElement.remove()" style="background: none; border: none; cursor: pointer; font-size: 18px; color: var(--text-secondary);">√ó</button>
                </div>
                ${text}
            `;
            tooltip.style.cssText = `
                position: fixed;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%);
                background: var(--surface);
                border: 1px solid var(--border);
                border-radius: 12px;
                padding: 16px 20px;
                max-width: 360px;
                box-shadow: 0 10px 40px rgba(0,0,0,0.2);
                z-index: 1001;
                font-size: 13px;
                color: var(--text-primary);
                line-height: 1.5;
            `;
            document.body.appendChild(tooltip);
            
            // Auto-remove after 10 seconds
            setTimeout(() => { if (tooltip.parentElement) tooltip.remove(); }, 10000);
        }

        function toggleCheatsheet() {
            document.getElementById('cheatsheetContent').classList.toggle('open');
            document.getElementById('cheatsheetIcon').classList.toggle('open');
        }

        function toggleDiversitySection() {
            document.getElementById('diversityContent').classList.toggle('open');
            document.getElementById('diversityIcon').classList.toggle('open');
        }

        function toggleCompanySection() {
            document.getElementById('companyContent').classList.toggle('open');
            document.getElementById('companyIcon').classList.toggle('open');
        }
    </script>
</body>
</html>
